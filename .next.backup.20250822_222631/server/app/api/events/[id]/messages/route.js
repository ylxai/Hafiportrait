"use strict";(()=>{var e={};e.id=5286,e.ids=[5286],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57441:e=>{e.exports=require("sharp")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},93910:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g});var r={};t.r(r),t.d(r,{GET:()=>p,POST:()=>d});var a=t(30633),n=t(86488),o=t(13342),i=t(90223),u=t(68620);async function p(e,{params:s}){let t=(await s).id;if(!t)return i.NextResponse.json({error:"Event ID is required"},{status:400});try{let e=await u.F.getEventMessages(t);return i.NextResponse.json(e)}catch(e){return console.error("Get messages error:",e),i.NextResponse.json({error:"Failed to fetch messages",details:e.message},{status:500})}}async function d(e,{params:s}){let t=(await s).id;if(!t)return i.NextResponse.json({error:"Event ID is required"},{status:400});try{let{guestName:s,message:r}=await e.json();if(!s||!r)return i.NextResponse.json({message:"Guest name and message are required"},{status:400});let a=await u.F.createMessage({event_id:t,sender_name:s,content:r,guest_name:s});return i.NextResponse.json(a,{status:201})}catch(e){return console.error(`Create message for event ${t} error:`,e),i.NextResponse.json({message:"Failed to create message",error:e.message},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/events/[id]/messages/route",pathname:"/api/events/[id]/messages",filename:"route",bundlePath:"app/api/events/[id]/messages/route"},resolvedPagePath:"/home/ubuntu/stable/src/app/api/events/[id]/messages/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:g,serverHooks:l}=m,x="/api/events/[id]/messages/route";function v(){return(0,o.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:g})}}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[2782,606,3716,8620],()=>t(93910));module.exports=r})();