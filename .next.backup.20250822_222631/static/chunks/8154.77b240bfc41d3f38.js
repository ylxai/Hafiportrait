"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8154],{8154:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=a(881),n=a(4149),l=a(1084),r=a(5949),i=a(3575),d=a(3939),c=a(1756),o=a(6168),m=a(9365),x=a(7324),u=a(2436),h=a(9674),f=a(8869),g=a(7791),p=a(122),v=a(313),j=a(3433);function N(e){let{size:t="md"}=e,a={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return(0,s.jsx)("div",{className:"flex items-center justify-center space-x-2",children:[0,1,2].map(e=>(0,s.jsx)("div",{className:"".concat(a[t]," bg-wedding-gold rounded-full animate-pulse"),style:{animationDelay:"".concat(.2*e,"s"),animationDuration:"1.4s"}},e))})}function b(e){let{className:t="",children:a}=e;return(0,s.jsxs)("div",{className:"relative overflow-hidden bg-gray-200 rounded ".concat(t),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent animate-shimmer-wave"}),a]})}function w(e){let{count:t=3}=e;return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:t}).map((e,t)=>(0,s.jsx)("div",{className:"animate-fade-in-up",style:{animationDelay:"".concat(150*t,"ms")},children:(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)(b,{className:"h-6 w-3/4"}),(0,s.jsx)(b,{className:"h-5 w-16 rounded-full"})]}),(0,s.jsx)(b,{className:"h-4 w-1/2"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b,{className:"h-5 w-20 rounded-full"}),(0,s.jsx)(b,{className:"h-5 w-16 rounded-full"})]}),(0,s.jsx)(b,{className:"h-10 w-full rounded"})]})},t))})}function y(e){let t=new Date,a=new Date(e),s=new Date(a.getTime()+432e5);return t>=a&&t<=s?"live":t<a?"upcoming":"completed"}function k(e){switch(e){case"live":return{icon:(0,s.jsx)(o.Z,{className:"w-3 h-3 mr-1"}),text:"Live",className:"bg-red-500 text-white animate-pulse"};case"upcoming":return{icon:(0,s.jsx)(m.Z,{className:"w-3 h-3 mr-1"}),text:"Upcoming",className:"bg-blue-500 text-white"};case"completed":return{icon:(0,s.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),text:"Completed",className:"bg-green-500 text-white"}}}function C(){let[e,t]=(0,n.useState)("all"),[a,b]=(0,n.useState)(!1),{data:C,isLoading:Z,isError:D,error:S,refetch:E}=(0,l.a)({queryKey:["events"],queryFn:async()=>{try{let e=await (0,j.N)("GET","/api/events");if(!e.ok){let t=await e.text();throw Error("HTTP error! status: ".concat(e.status,", body: ").concat(t))}let t=await e.json();if(!Array.isArray(t))return console.warn("API response is not an array:",t),[];return console.log("EventsSection: Data API berhasil diambil:",t),t}catch(e){throw console.error("EventsSection: Error saat mengambil data API:",e),e}}}),P=(null==C?void 0:C.filter(t=>"all"===e||y(t.date)===e))||[],R=(0,n.useCallback)(async()=>{b(!0);try{await E()}finally{setTimeout(()=>b(!1),500)}},[E]),z=C?{all:C.length,live:C.filter(e=>"live"===y(e.date)).length,upcoming:C.filter(e=>"upcoming"===y(e.date)).length,completed:C.filter(e=>"completed"===y(e.date)).length}:{all:0,live:0,upcoming:0,completed:0};return console.log("EventsSection: Status Render",{isLoading:Z,isError:D,eventsLength:null==C?void 0:C.length,filteredLength:P.length,activeFilter:e,filterCounts:z}),(0,s.jsxs)("section",{id:"events",className:"py-16 md:py-20 bg-gradient-to-br from-white via-blue-50/30 to-purple-50/20 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-blue-300/5 to-purple-300/5 rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[(0,s.jsx)("div",{className:"text-center mb-12 md:mb-16 relative",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent mb-4",children:"New Event"}),(0,s.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full mb-6"}),(0,s.jsxs)(r.z,{onClick:R,variant:"ghost",size:"sm",disabled:a,className:"absolute -top-2 right-0 md:right-4 flex items-center gap-2 hover:bg-blue-50/80 text-blue-600 border border-blue-200/50 backdrop-blur-sm transition-all duration-300 hover:scale-105 rounded-full px-3 py-2",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 ".concat(a?"animate-spin":"")}),(0,s.jsx)("span",{className:"hidden sm:inline text-sm",children:a?"Refreshing...":"Refresh"})]})]})}),(0,s.jsx)("div",{className:"mb-6 md:mb-8",children:(0,s.jsx)(c.mQ,{value:e,onValueChange:e=>t(e),className:"w-full",children:(0,s.jsxs)("div",{className:"relative",children:[a&&(0,s.jsx)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 z-10",children:(0,s.jsx)(u.Z,{className:"w-4 h-4 text-wedding-gold animate-spin"})}),(0,s.jsx)("div",{className:"sticky top-16 bg-white/95 backdrop-blur-sm z-20 py-2 -mx-4 px-4",children:(0,s.jsxs)(c.dr,{className:"grid w-full grid-cols-4 h-10 md:h-12 bg-gray-100 rounded-xl p-1",children:[(0,s.jsx)(c.SP,{value:"all",className:"text-xs md:text-sm font-medium data-[state=active]:bg-white data-[state=active]:text-wedding-gold transition-all duration-200",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(h.Z,{className:"w-3 h-3 md:w-4 md:h-4"}),"All",z.all>0&&(0,s.jsx)("span",{className:"bg-gray-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center",children:z.all})]})}),(0,s.jsx)(c.SP,{value:"live",className:"text-xs md:text-sm font-medium data-[state=active]:bg-white data-[state=active]:text-red-500 transition-all duration-200",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-3 h-3 md:w-4 md:h-4"}),"Live",z.live>0&&(0,s.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center animate-pulse",children:z.live})]})}),(0,s.jsx)(c.SP,{value:"upcoming",className:"text-xs md:text-sm font-medium data-[state=active]:bg-white data-[state=active]:text-blue-500 transition-all duration-200",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.Z,{className:"w-3 h-3 md:w-4 md:h-4"}),"Soon",z.upcoming>0&&(0,s.jsx)("span",{className:"bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center",children:z.upcoming})]})}),(0,s.jsx)(c.SP,{value:"completed",className:"text-xs md:text-sm font-medium data-[state=active]:bg-white data-[state=active]:text-green-500 transition-all duration-200",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(x.Z,{className:"w-3 h-3 md:w-4 md:h-4"}),"Done",z.completed>0&&(0,s.jsx)("span",{className:"bg-green-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center",children:z.completed})]})})]})})]})})}),Z&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(N,{size:"lg"})}),(0,s.jsx)(w,{count:6})]}),D&&(0,s.jsx)("div",{className:"text-center py-8 text-red-500",children:(0,s.jsx)("p",{children:"Gagal memuat event. Silakan coba lagi nanti."})}),!Z&&!D&&C&&0===C.length&&(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)(f.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{children:"Belum ada event yang tersedia saat ini."})]}),!Z&&!D&&C&&C.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4 px-1 scrollbar-hide",children:C.sort((e,t)=>{let a={live:0,upcoming:1,completed:2},s=y(e.date),n=y(t.date);return a[s]-a[n]}).map((e,t)=>{let a=k(y(e.date));return(0,s.jsx)("div",{className:"flex-none w-80 animate-fade-in-up",style:{animationDelay:"".concat(100*t,"ms")},children:(0,s.jsxs)(i.Zb,{className:"border-wedding-gold/20 shadow-md hover:shadow-lg transition-all duration-300 h-full hover:animate-pulse-glow",children:[(0,s.jsx)(i.Ol,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(i.ll,{className:"text-lg font-semibold text-gray-900 pr-2 leading-tight",children:e.name}),(0,s.jsxs)(d.C,{className:"".concat(a.className," flex items-center text-xs font-medium shrink-0"),children:[a.icon,a.text]})]})}),(0,s.jsxs)(i.aY,{className:"space-y-3 pt-0",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2 text-wedding-gold shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:new Date(e.date).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:e.is_premium&&(0,s.jsxs)(d.C,{className:"bg-wedding-gold text-white text-xs",children:[(0,s.jsx)(g.Z,{className:"w-3 h-3 mr-1"}),"Premium"]})}),(0,s.jsx)(r.z,{asChild:!0,className:"w-full bg-wedding-gold hover:bg-wedding-gold/90 text-white h-10 text-sm font-medium",children:(0,s.jsxs)("a",{href:"/event/".concat(e.id),target:"_blank",rel:"noopener noreferrer",children:["Lihat Event",(0,s.jsx)(p.Z,{className:"w-4 h-4 ml-2"})]})})]})]})},e.id)})})}),(0,s.jsx)("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:C.sort((e,t)=>{let a={live:0,upcoming:1,completed:2},s=y(e.date),n=y(t.date);return a[s]-a[n]}).map((e,t)=>{let a=k(y(e.date));return(0,s.jsx)("div",{className:"group animate-fade-in-up",style:{animationDelay:"".concat(150*t,"ms")},children:(0,s.jsxs)(i.Zb,{className:"border-wedding-gold/20 shadow-md hover:shadow-xl transition-all duration-300 group-hover:scale-[1.02] overflow-hidden hover:animate-pulse-glow",children:[(0,s.jsx)(i.Ol,{className:"relative pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)(i.ll,{className:"text-lg md:text-xl font-semibold text-gray-900 pr-2 leading-tight",children:e.name}),(0,s.jsxs)(d.C,{className:"".concat(a.className," flex items-center text-xs font-medium shrink-0"),children:[a.icon,a.text]})]})}),(0,s.jsxs)(i.aY,{className:"space-y-3 pt-0",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2 text-wedding-gold shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:new Date(e.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_premium&&(0,s.jsxs)(d.C,{className:"bg-wedding-gold text-white text-xs",children:[(0,s.jsx)(g.Z,{className:"w-3 h-3 mr-1"}),"Premium Event"]}),(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,s.jsx)(v.Z,{className:"w-3 h-3 mr-1"}),(0,s.jsx)("span",{children:"Event Aktif"})]})]}),(0,s.jsx)(r.z,{asChild:!0,className:"w-full bg-wedding-gold hover:bg-wedding-gold/90 text-white mt-4 h-10 md:h-11 text-sm md:text-base font-medium",children:(0,s.jsx)("a",{href:"/event/".concat(e.id),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)("span",{className:"flex items-center justify-center",children:["Lihat Event",(0,s.jsx)(p.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})]})},e.id)})})]}),!Z&&!D&&P.length>2&&(0,s.jsx)("div",{className:"md:hidden text-center mt-4",children:(0,s.jsxs)("p",{className:"text-xs text-gray-500 flex items-center justify-center",children:[(0,s.jsx)(p.Z,{className:"w-3 h-3 mr-1 animate-pulse"}),"Geser untuk melihat event lainnya"]})})]})]})}},3939:function(e,t,a){a.d(t,{C:function(){return i}});var s=a(881);a(4149);var n=a(9326),l=a(6756);let r=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...n}=e;return(0,s.jsx)("div",{className:(0,l.cn)(r({variant:a}),t),...n})}},3575:function(e,t,a){a.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return r},aY:function(){return o},ll:function(){return d}});var s=a(881),n=a(4149),l=a(6756);let r=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});r.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},1756:function(e,t,a){a.d(t,{SP:function(){return c},dr:function(){return d},mQ:function(){return i},nU:function(){return o}});var s=a(881),n=a(4149),l=a(1340),r=a(6756);let i=l.fC,d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});d.displayName=l.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.xz,{ref:t,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});c.displayName=l.xz.displayName;let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});o.displayName=l.VY.displayName},3433:function(e,t,a){a.d(t,{N:function(){return s}});async function s(e,t,a){let s={},n={method:e,headers:s};a instanceof FormData?n.body=a:a&&"GET"!==e&&(s["Content-Type"]="application/json",n.body=JSON.stringify(a));let l=await fetch(t,n);if(!l.ok)throw Error((await l.json().catch(()=>({}))).message||"HTTP error! status: ".concat(l.status));return l}}}]);