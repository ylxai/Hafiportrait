"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4898],{4898:function(e,s,a){a.r(s),a.d(s,{RealTimeMonitor:function(){return F}});var t=a(881),l=a(4149),c=a(3575),i=a(3939),r=a(5949),n=a(3559),d=a(1756),m=a(9188),x=a(2354),h=a(2436),j=a(7244),o=a(6168),u=a(7386),p=a(3128),N=a(8824),f=a(4581),g=a(7324),v=a(1935),y=a(8943),b=a(7791),w=a(9581),S=a(1664),Z=a(5876),C=a(9053),U=a(6077),k=a(5333);function F(e){let{className:s}=e,[a,F]=(0,l.useState)(null),[P,R]=(0,l.useState)([]),[L,Y]=(0,l.useState)(!0),[T,E]=(0,l.useState)(new Date),[D,O]=(0,l.useState)(null),M=async()=>{try{let e=await fetch("/api/admin/monitoring?type=overview"),s=await e.json();if(s.metrics){let e={timestamp:new Date(s.timestamp),metrics:s.metrics,healthChecks:s.healthChecks||[],overallStatus:s.status||"healthy"};F(e),E(new Date),R(s=>[...s,e].slice(-20))}let a=await fetch("/api/dslr/status");if(a.ok){let e=await a.json();O(e)}}catch(e){console.error("Error loading monitoring data:",e)}};(0,l.useEffect)(()=>{if(M(),L){let e=setInterval(M,5e3);return()=>clearInterval(e)}},[L]);let A=e=>{switch(e){case"healthy":return"default";case"warning":return"secondary";case"critical":return"destructive";default:return"outline"}},z=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["B","KB","MB","GB","TB"][s]},I=e=>"".concat(e.toFixed(1),"%"),q=(e,s)=>e>s?(0,t.jsx)(m.Z,{className:"h-4 w-4 text-red-500"}):e<s?(0,t.jsx)(x.Z,{className:"h-4 w-4 text-green-500"}):null;if(!a)return(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(h.Z,{className:"h-6 w-6 animate-spin mr-2"}),(0,t.jsx)("span",{children:"Loading system metrics..."})]});let B=P.length>1?P[P.length-2]:null;return(0,t.jsxs)("div",{className:"space-y-4 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)(i.C,{variant:A(a.overallStatus),className:"text-sm",children:a.overallStatus.toUpperCase()})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Last updated: ",T.toLocaleTimeString()]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>Y(!L),children:[L?(0,t.jsx)(j.Z,{className:"h-4 w-4"}):(0,t.jsx)(o.Z,{className:"h-4 w-4"}),L?"Pause":"Resume"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:M,children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),"Refresh"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"CPU"})]}),B&&q(a.metrics.cpu.usage,B.metrics.cpu.usage)]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.E,{value:a.metrics.cpu.usage,className:"h-2"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:I(a.metrics.cpu.usage)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Load: ",a.metrics.cpu.load.map(e=>e.toFixed(1)).join(", ")]})]})]})}),(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Memory"})]}),B&&q(a.metrics.memory.percentage,B.metrics.memory.percentage)]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.E,{value:a.metrics.memory.percentage,className:"h-2"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:I(a.metrics.memory.percentage)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[z(a.metrics.memory.used)," / ",z(a.metrics.memory.total)]})]})]})}),(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Storage"})]}),B&&q(a.metrics.storage.percentage,B.metrics.storage.percentage)]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.E,{value:a.metrics.storage.percentage,className:"h-2"}),(0,t.jsx)("p",{className:"text-xl font-bold",children:I(a.metrics.storage.percentage)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[z(a.metrics.storage.used)," / ",z(a.metrics.storage.total)]})]})]})}),(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-orange-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"API"})]}),B&&q(a.metrics.api.responseTime,B.metrics.api.responseTime)]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-xl font-bold",children:[a.metrics.api.responseTime.toFixed(0),"ms"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Error: ",I(a.metrics.api.errorRate)]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.metrics.api.requestsPerMinute," req/min"]})]})]})})]}),(0,t.jsxs)(d.mQ,{defaultValue:"health",className:"w-full",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-6",children:[(0,t.jsx)(d.SP,{value:"health",children:"Health"}),(0,t.jsx)(d.SP,{value:"performance",children:"Performance"}),(0,t.jsx)(d.SP,{value:"dslr",children:"DSLR"}),(0,t.jsx)(d.SP,{value:"security",children:"Security"}),(0,t.jsx)(d.SP,{value:"network",children:"Network"}),(0,t.jsx)(d.SP,{value:"history",children:"History"})]}),(0,t.jsx)(d.nU,{value:"health",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.healthChecks.map(e=>(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold capitalize",children:e.name.replace("-"," ")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["healthy"===e.status?(0,t.jsx)(g.Z,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(v.Z,{className:"h-5 w-5 text-red-500"}),(0,t.jsx)(i.C,{variant:A(e.status),children:e.status})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Response: ",e.responseTime?"".concat(e.responseTime,"ms"):"N/A"]}),(0,t.jsxs)("span",{children:["Last checked: ",new Date(e.lastChecked).toLocaleTimeString()]})]}),e.metadata&&(0,t.jsx)("div",{className:"mt-2 pt-2 border-t",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(e.metadata).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[s,":"]}),(0,t.jsx)("span",{className:"ml-1 font-medium",children:String(a)})]},s)})})})]})},e.name))})}),(0,t.jsx)(d.nU,{value:"performance",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Detailed Performance"})]})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"CPU Usage"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[a.metrics.cpu.usage.toFixed(1),"%"]})]}),(0,t.jsx)(n.E,{value:a.metrics.cpu.usage,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Load Average: ",a.metrics.cpu.load.map(e=>e.toFixed(2)).join(", ")]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Memory Usage"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[a.metrics.memory.percentage.toFixed(1),"%"]})]}),(0,t.jsx)(n.E,{value:a.metrics.memory.percentage,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[z(a.metrics.memory.used)," / ",z(a.metrics.memory.total)]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4 text-purple-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Storage Usage"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[a.metrics.storage.percentage.toFixed(1),"%"]})]}),(0,t.jsx)(n.E,{value:a.metrics.storage.percentage,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[z(a.metrics.storage.used)," / ",z(a.metrics.storage.total)]})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"System Information"})]})}),(0,t.jsxs)(c.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Server Status"}),(0,t.jsx)(i.C,{variant:"default",children:"Online"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Uptime"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"7 days, 14 hours"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Response Time"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[a.metrics.api.responseTime.toFixed(0),"ms"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Requests/min"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:a.metrics.api.requestsPerMinute})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Error Rate"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[a.metrics.api.errorRate.toFixed(1),"%"]})]})]})]})]})}),(0,t.jsx)(d.nU,{value:"dslr",className:"space-y-4",children:D?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"DSLR Service Status"})]})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Service Status"}),(0,t.jsx)(i.C,{variant:D.success?"default":"destructive",children:D.success?"Running":"Stopped"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Camera Connected"}),(0,t.jsx)(i.C,{variant:D.isConnected?"default":"destructive",children:D.isConnected?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Connected"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Disconnected"]})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Processing"}),(0,t.jsx)(i.C,{variant:D.isProcessing?"default":"outline",children:D.isProcessing?"Active":"Idle"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Watch Folder"}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-500 max-w-[200px] truncate",children:D.watchFolder||"Not set"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Event ID"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:D.eventId||"No active event"})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Upload Statistics"})]})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Total Uploaded"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:D.totalUploaded||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Failed Uploads"}),(0,t.jsx)("span",{className:"text-sm font-medium text-red-600",children:D.failedUploads||0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[D.totalUploaded>0?((D.totalUploaded-(D.failedUploads||0))/D.totalUploaded*100).toFixed(1):100,"%"]})]}),(0,t.jsx)(n.E,{value:D.totalUploaded>0?(D.totalUploaded-(D.failedUploads||0))/D.totalUploaded*100:100,className:"h-2"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Queue Size"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[D.queueSize||0," files"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Last Upload"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:D.lastUpload?new Date(D.lastUpload).toLocaleString():"No uploads yet"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Uploader"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:D.uploaderName||"Unknown"})]})]})]})]}):(0,t.jsx)(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-8 text-center",children:[(0,t.jsx)(b.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Loading DSLR Data..."}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Fetching DSLR service status and statistics"})]})})}),(0,t.jsx)(d.nU,{value:"security",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(S.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Security Status"})]})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"SSL Certificate"}),(0,t.jsxs)(i.C,{variant:"default",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Valid"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Threat Level"}),(0,t.jsx)(i.C,{variant:"default",children:"Low"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Failed Logins (24h)"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"2"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Last Security Scan"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"1 hour ago"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Firewall Status"}),(0,t.jsx)(i.C,{variant:"default",children:"Active"})]})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Security Alerts"})]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(g.Z,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"No security alerts"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"All systems secure"})]})})]})]})}),(0,t.jsx)(d.nU,{value:"database",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(C.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Connection Status"})]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.C,{variant:A(a.metrics.database.status),children:a.metrics.database.status.toUpperCase()}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Active connections: ",a.metrics.database.connections]})]})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(U.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Query Performance"})]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[a.metrics.database.queryTime.toFixed(0),"ms"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Average query time"})]})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"Database Health"})}),(0,t.jsx)(c.aY,{children:(0,t.jsx)("div",{className:"space-y-2",children:a.healthChecks.filter(e=>"database-connection"===e.name).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(i.C,{variant:A(e.status),children:e.status}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.message})]},e.name))})})]})]})}),(0,t.jsx)(d.nU,{value:"network",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsxs)(c.ll,{className:"flex items-center space-x-2",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Network Traffic"})]})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Inbound"}),(0,t.jsxs)("span",{children:[z(a.metrics.network.inbound),"/s"]})]}),(0,t.jsx)(n.E,{value:a.metrics.network.inbound/1e6*100,className:"h-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Outbound"}),(0,t.jsxs)("span",{children:[z(a.metrics.network.outbound),"/s"]})]}),(0,t.jsx)(n.E,{value:a.metrics.network.outbound/1e6*100,className:"h-2"})]})]})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"External Services"})}),(0,t.jsx)(c.aY,{children:(0,t.jsx)("div",{className:"space-y-2",children:a.healthChecks.filter(e=>"external-services"===e.name).map(e=>{var s;return(0,t.jsxs)("div",{children:[(0,t.jsx)(i.C,{variant:A(e.status),children:e.status}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.message}),e.metadata&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Success Rate: ",null===(s=e.metadata.successRate)||void 0===s?void 0:s.toFixed(1),"%"]})]},e.name)})})})]})]})}),(0,t.jsx)(d.nU,{value:"history",className:"space-y-4",children:(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"System Metrics History"})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing last ",P.length," data points"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"Time"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-2",children:"CPU"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Memory"}),(0,t.jsx)("th",{className:"text-left p-2",children:"API Response"})]})}),(0,t.jsx)("tbody",{children:P.slice(-10).reverse().map((e,s)=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-2",children:new Date(e.timestamp).toLocaleTimeString()}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsx)(i.C,{variant:A(e.overallStatus),className:"text-xs",children:e.overallStatus})}),(0,t.jsx)("td",{className:"p-2",children:I(e.metrics.cpu.usage)}),(0,t.jsx)("td",{className:"p-2",children:I(e.metrics.memory.percentage)}),(0,t.jsxs)("td",{className:"p-2",children:[e.metrics.api.responseTime.toFixed(0),"ms"]})]},s))})]})})]})})]})})]})]})}},1756:function(e,s,a){a.d(s,{SP:function(){return d},dr:function(){return n},mQ:function(){return r},nU:function(){return m}});var t=a(881),l=a(4149),c=a(1340),i=a(6756);let r=c.fC,n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});n.displayName=c.aV.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});d.displayName=c.xz.displayName;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(c.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});m.displayName=c.VY.displayName}}]);