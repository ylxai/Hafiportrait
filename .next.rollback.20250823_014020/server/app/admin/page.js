(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},77283:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),a(51325),a(33877),a(69987);var t=a(69443),l=a(86488),i=a(70688),n=a.n(i),r=a(21044),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);a.d(s,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,51325)),"/home/ubuntu/stable/src/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,33877)),"/home/ubuntu/stable/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69987,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/stable/src/app/admin/page.tsx"],m="/admin/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},51884:(e,s,a)=>{Promise.resolve().then(a.bind(a,20427))},40780:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},44036:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48271:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},22408:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},85539:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},77945:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(24774).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7651:(e,s,a)=>{"use strict";a.d(s,{default:()=>l.a});var t=a(81161),l=a.n(t)},74343:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Image",{enumerable:!0,get:function(){return j}});let t=a(16342),l=a(22258),i=a(93581),n=l._(a(67149)),r=t._(a(74180)),d=t._(a(49784)),c=a(74981),o=a(7781),m=a(76652);a(52282);let u=a(14306),h=t._(a(1470)),x={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function p(e,s,a,t,l,i,n){let r=null==e?void 0:e.src;e&&e["data-loaded-src"]!==r&&(e["data-loaded-src"]=r,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==s&&l(!0),null==a?void 0:a.current){let s=new Event("load");Object.defineProperty(s,"target",{writable:!1,value:e});let t=!1,l=!1;a.current({...s,nativeEvent:s,currentTarget:e,target:e,isDefaultPrevented:()=>t,isPropagationStopped:()=>l,persist:()=>{},preventDefault:()=>{t=!0,s.preventDefault()},stopPropagation:()=>{l=!0,s.stopPropagation()}})}(null==t?void 0:t.current)&&t.current(e)}}))}function g(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let f=(0,n.forwardRef)((e,s)=>{let{src:a,srcSet:t,sizes:l,height:r,width:d,decoding:c,className:o,style:m,fetchPriority:u,placeholder:h,loading:x,unoptimized:f,fill:v,onLoadRef:j,onLoadingCompleteRef:b,setBlurComplete:y,setShowAltText:N,sizesInput:w,onLoad:k,onError:C,...S}=e;return(0,i.jsx)("img",{...S,...g(u),loading:x,width:d,height:r,decoding:c,"data-nimg":v?"fill":"1",className:o,style:m,sizes:l,srcSet:t,src:a,ref:(0,n.useCallback)(e=>{s&&("function"==typeof s?s(e):"object"==typeof s&&(s.current=e)),e&&(C&&(e.src=e.src),e.complete&&p(e,h,j,b,y,f,w))},[a,h,j,b,y,C,f,w,s]),onLoad:e=>{p(e.currentTarget,h,j,b,y,f,w)},onError:e=>{N(!0),"empty"!==h&&y(!0),C&&C(e)}})});function v(e){let{isAppRouter:s,imgAttributes:a}=e,t={as:"image",imageSrcSet:a.srcSet,imageSizes:a.sizes,crossOrigin:a.crossOrigin,referrerPolicy:a.referrerPolicy,...g(a.fetchPriority)};return s&&r.default.preload?(r.default.preload(a.src,t),null):(0,i.jsx)(d.default,{children:(0,i.jsx)("link",{rel:"preload",href:a.srcSet?void 0:a.src,...t},"__nimg-"+a.src+a.srcSet+a.sizes)})}let j=(0,n.forwardRef)((e,s)=>{let a=(0,n.useContext)(u.RouterContext),t=(0,n.useContext)(m.ImageConfigContext),l=(0,n.useMemo)(()=>{let e=x||t||o.imageConfigDefault,s=[...e.deviceSizes,...e.imageSizes].sort((e,s)=>e-s),a=e.deviceSizes.sort((e,s)=>e-s);return{...e,allSizes:s,deviceSizes:a}},[t]),{onLoad:r,onLoadingComplete:d}=e,p=(0,n.useRef)(r);(0,n.useEffect)(()=>{p.current=r},[r]);let g=(0,n.useRef)(d);(0,n.useEffect)(()=>{g.current=d},[d]);let[j,b]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),{props:w,meta:k}=(0,c.getImgProps)(e,{defaultLoader:h.default,imgConf:l,blurComplete:j,showAltText:y});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{...w,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:b,setShowAltText:N,sizesInput:e.sizes,ref:s}),k.priority?(0,i.jsx)(v,{isAppRouter:!a,imgAttributes:w}):null]})});("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},14762:(e,s,a)=>{"use strict";e.exports=a(93599).vendored.contexts.AmpContext},11720:(e,s,a)=>{"use strict";e.exports=a(93599).vendored.contexts.HeadManagerContext},76652:(e,s,a)=>{"use strict";e.exports=a(93599).vendored.contexts.ImageConfigContext},14306:(e,s,a)=>{"use strict";e.exports=a(93599).vendored.contexts.RouterContext},28469:(e,s)=>{"use strict";function a(e){let{ampFirst:s=!1,hybrid:a=!1,hasQuery:t=!1}=void 0===e?{}:e;return s||a&&t}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"isInAmpMode",{enumerable:!0,get:function(){return a}})},81161:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return i}});let t=a(16342);a(93581),a(67149);let l=t._(a(42446));function i(e,s){var a;let t={loading:e=>{let{error:s,isLoading:a,pastDelay:t}=e;return null}};"function"==typeof e&&(t.loader=e);let i={...t,...s};return(0,l.default)({...i,modules:null==(a=i.loadableGenerated)?void 0:a.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},74981:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImgProps",{enumerable:!0,get:function(){return r}}),a(52282);let t=a(41444),l=a(7781);function i(e){return void 0!==e.default}function n(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function r(e,s){var a;let r,d,c,{src:o,sizes:m,unoptimized:u=!1,priority:h=!1,loading:x,className:p,quality:g,width:f,height:v,fill:j=!1,style:b,overrideSrc:y,onLoad:N,onLoadingComplete:w,placeholder:k="empty",blurDataURL:C,fetchPriority:S,decoding:E="async",layout:D,objectFit:P,objectPosition:_,lazyBoundary:A,lazyRoot:Z,...z}=e,{imgConf:M,showAltText:T,blurComplete:F,defaultLoader:L}=s,O=M||l.imageConfigDefault;if("allSizes"in O)r=O;else{let e=[...O.deviceSizes,...O.imageSizes].sort((e,s)=>e-s),s=O.deviceSizes.sort((e,s)=>e-s);r={...O,allSizes:e,deviceSizes:s}}if(void 0===L)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let B=z.loader||L;delete z.loader,delete z.srcSet;let I="__next_img_default"in B;if(I){if("custom"===r.loader)throw Error('Image with src "'+o+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=B;B=s=>{let{config:a,...t}=s;return e(t)}}if(D){"fill"===D&&(j=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[D];e&&(b={...b,...e});let s={responsive:"100vw",fill:"100vw"}[D];s&&!m&&(m=s)}let q="",$=n(f),R=n(v);if("object"==typeof(a=o)&&(i(a)||void 0!==a.src)){let e=i(o)?o.default:o;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(d=e.blurWidth,c=e.blurHeight,C=C||e.blurDataURL,q=e.src,!j){if($||R){if($&&!R){let s=$/e.width;R=Math.round(e.height*s)}else if(!$&&R){let s=R/e.height;$=Math.round(e.width*s)}}else $=e.width,R=e.height}}let U=!h&&("lazy"===x||void 0===x);(!(o="string"==typeof o?o:q)||o.startsWith("data:")||o.startsWith("blob:"))&&(u=!0,U=!1),r.unoptimized&&(u=!0),I&&o.endsWith(".svg")&&!r.dangerouslyAllowSVG&&(u=!0),h&&(S="high");let G=n(g),K=Object.assign(j?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:P,objectPosition:_}:{},T?{}:{color:"transparent"},b),Q=F||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,t.getImageBlurSvg)({widthInt:$,heightInt:R,blurWidth:d,blurHeight:c,blurDataURL:C||"",objectFit:K.objectFit})+'")':'url("'+k+'")',Y=Q?{backgroundSize:K.objectFit||"cover",backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Q}:{},H=function(e){let{config:s,src:a,unoptimized:t,width:l,quality:i,sizes:n,loader:r}=e;if(t)return{src:a,srcSet:void 0,sizes:void 0};let{widths:d,kind:c}=function(e,s,a){let{deviceSizes:t,allSizes:l}=e;if(a){let e=/(^|\s)(1?\d?\d)vw/g,s=[];for(let t;t=e.exec(a);t)s.push(parseInt(t[2]));if(s.length){let e=.01*Math.min(...s);return{widths:l.filter(s=>s>=t[0]*e),kind:"w"}}return{widths:l,kind:"w"}}return"number"!=typeof s?{widths:t,kind:"w"}:{widths:[...new Set([s,2*s].map(e=>l.find(s=>s>=e)||l[l.length-1]))],kind:"x"}}(s,l,n),o=d.length-1;return{sizes:n||"w"!==c?n:"100vw",srcSet:d.map((e,t)=>r({config:s,src:a,quality:i,width:e})+" "+("w"===c?e:t+1)+c).join(", "),src:r({config:s,src:a,quality:i,width:d[o]})}}({config:r,src:o,unoptimized:u,width:$,quality:G,sizes:m,loader:B});return{props:{...z,loading:U?"lazy":x,fetchPriority:S,width:$,height:R,decoding:E,className:p,style:{...K,...Y},sizes:H.sizes,srcSet:H.srcSet,src:y||H.src},meta:{unoptimized:u,priority:h,placeholder:k,fill:j}}}},49784:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{default:function(){return p},defaultHead:function(){return m}});let t=a(16342),l=a(22258),i=a(93581),n=l._(a(67149)),r=t._(a(85188)),d=a(14762),c=a(11720),o=a(28469);function m(e){void 0===e&&(e=!1);let s=[(0,i.jsx)("meta",{charSet:"utf-8"})];return e||s.push((0,i.jsx)("meta",{name:"viewport",content:"width=device-width"})),s}function u(e,s){return"string"==typeof s||"number"==typeof s?e:s.type===n.default.Fragment?e.concat(n.default.Children.toArray(s.props.children).reduce((e,s)=>"string"==typeof s||"number"==typeof s?e:e.concat(s),[])):e.concat(s)}a(52282);let h=["name","httpEquiv","charSet","itemProp"];function x(e,s){let{inAmpMode:a}=s;return e.reduce(u,[]).reverse().concat(m(a).reverse()).filter(function(){let e=new Set,s=new Set,a=new Set,t={};return l=>{let i=!0,n=!1;if(l.key&&"number"!=typeof l.key&&l.key.indexOf("$")>0){n=!0;let s=l.key.slice(l.key.indexOf("$")+1);e.has(s)?i=!1:e.add(s)}switch(l.type){case"title":case"base":s.has(l.type)?i=!1:s.add(l.type);break;case"meta":for(let e=0,s=h.length;e<s;e++){let s=h[e];if(l.props.hasOwnProperty(s)){if("charSet"===s)a.has(s)?i=!1:a.add(s);else{let e=l.props[s],a=t[s]||new Set;("name"!==s||!n)&&a.has(e)?i=!1:(a.add(e),t[s]=a)}}}}return i}}()).reverse().map((e,s)=>{let t=e.key||s;if(!a&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(s=>e.props.href.startsWith(s))){let s={...e.props||{}};return s["data-href"]=s.href,s.href=void 0,s["data-optimized-fonts"]=!0,n.default.cloneElement(e,s)}return n.default.cloneElement(e,{key:t})})}let p=function(e){let{children:s}=e,a=(0,n.useContext)(d.AmpStateContext),t=(0,n.useContext)(c.HeadManagerContext);return(0,i.jsx)(r.default,{reduceComponentsToState:x,headManager:t,inAmpMode:(0,o.isInAmpMode)(a),children:s})};("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},41444:(e,s)=>{"use strict";function a(e){let{widthInt:s,heightInt:a,blurWidth:t,blurHeight:l,blurDataURL:i,objectFit:n}=e,r=t?40*t:s,d=l?40*l:a,c=r&&d?"viewBox='0 0 "+r+" "+d+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===n?"xMidYMid":"cover"===n?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+i+"'/%3E%3C/svg%3E"}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},7781:(e,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{VALID_LOADERS:function(){return a},imageConfigDefault:function(){return t}});let a=["default","imgix","cloudinary","akamai","custom"],t={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",localPatterns:void 0,remotePatterns:[],unoptimized:!1}},35099:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{default:function(){return d},getImageProps:function(){return r}});let t=a(16342),l=a(74981),i=a(74343),n=t._(a(1470));function r(e){let{props:s}=(0,l.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(s))void 0===a&&delete s[e];return{props:s}}let d=i.Image},1470:(e,s)=>{"use strict";function a(e){let{config:s,src:a,width:t,quality:l}=e;return s.path+"?url="+encodeURIComponent(a)+"&w="+t+"&q="+(l||75)}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return t}}),a.__next_img_default=!0;let t=a},1482:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let t=a(69898);function l(e){let{reason:s,children:a}=e;throw new t.BailoutToCSRError(s)}},42446:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return c}});let t=a(93581),l=a(67149),i=a(1482),n=a(75132);function r(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},c=function(e){let s={...d,...e},a=(0,l.lazy)(()=>s.loader().then(r)),c=s.loading;function o(e){let r=c?(0,t.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=s.ssr?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.PreloadCss,{moduleIds:s.modules}),(0,t.jsx)(a,{...e})]}):(0,t.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(a,{...e})});return(0,t.jsx)(l.Suspense,{fallback:r,children:d})}return o.displayName="LoadableComponent",o}},75132:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return i}});let t=a(93581),l=a(54580);function i(e){let{moduleIds:s}=e,a=(0,l.getExpectedRequestStore)("next/dynamic css"),i=[];if(a.reactLoadableManifest&&s){let e=a.reactLoadableManifest;for(let a of s){if(!e[a])continue;let s=e[a].files.filter(e=>e.endsWith(".css"));i.push(...s)}}return 0===i.length?null:(0,t.jsx)(t.Fragment,{children:i.map(e=>(0,t.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},85188:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let t=a(67149),l=()=>{},i=()=>{};function n(e){var s;let{headManager:a,reduceComponentsToState:n}=e;function r(){if(a&&a.mountedInstances){let s=t.Children.toArray(Array.from(a.mountedInstances).filter(Boolean));a.updateHead(n(s,e))}}return null==a||null==(s=a.mountedInstances)||s.add(e.children),r(),l(()=>{var s;return null==a||null==(s=a.mountedInstances)||s.add(e.children),()=>{var s;null==a||null==(s=a.mountedInstances)||s.delete(e.children)}}),l(()=>(a&&(a._pendingUpdate=r),()=>{a&&(a._pendingUpdate=r)})),i(()=>(a&&a._pendingUpdate&&(a._pendingUpdate(),a._pendingUpdate=null),()=>{a&&a._pendingUpdate&&(a._pendingUpdate(),a._pendingUpdate=null)})),null}},20427:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>su});var t=a(93581),l=a(67149),i=a(20218),n=a(83885),r=a(36898),d=a(97014),c=a(78075),o=a(20727),m=a(30019),u=a(91761),h=a(24774);let x=(0,h.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,h.Z)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),g=(0,h.Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=a(54530);let v=(0,h.Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,h.Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),b=(0,h.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=a(77945),N=a(36054);let w=(0,h.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),k=(0,h.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var C=a(67020);let S=(0,h.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var E=a(85539),D=a(21860),P=a(89787),_=a(61014),A=a(30351);function Z({children:e,activeSection:s,onSectionChange:a,user:i,onLogout:n,stats:r}){let[d,c]=(0,l.useState)(!1),[o,h]=(0,l.useState)(["dashboard"]),[Z,z]=(0,l.useState)(""),M=[{id:"dashboard",label:"Dashboard",icon:m.Z,action:()=>a("dashboard")},{id:"events",label:"Event Management",icon:u.Z,badge:r?.totalEvents||0,children:[{id:"events-list",label:"Daftar Event",icon:u.Z,action:()=>a("events-list")},{id:"events-create",label:"Buat Event Baru",icon:x,action:()=>a("events-create")},{id:"events-status",label:"Status Manager",icon:p,action:()=>a("events-status")}]},{id:"media",label:"Media & Gallery",icon:g,badge:r?.totalPhotos||0,children:[{id:"media-homepage",label:"Galeri Homepage",icon:g,action:()=>a("media-homepage")},{id:"media-slideshow",label:"Hero Slideshow",icon:p,action:()=>a("media-slideshow")},{id:"media-events",label:"Foto Event",icon:u.Z,action:()=>a("media-events")}]},{id:"system",label:"System & Monitoring",icon:p,children:[{id:"system-monitor",label:"System Monitor",icon:p,action:()=>a("system-monitor")},{id:"system-alerts",label:"Alert Dashboard",icon:f.Z,action:()=>a("system-alerts")},{id:"system-advanced",label:"Advanced Monitoring",icon:v,action:()=>a("system-advanced")},{id:"system-dslr",label:"DSLR Monitor",icon:p,action:()=>a("system-dslr")},{id:"system-backup",label:"Backup Status",icon:p,action:()=>a("system-backup")},{id:"system-notifications",label:"Notifications",icon:j,action:()=>a("system-notifications")}]},{id:"settings",label:"Settings",icon:b,children:[{id:"settings-theme",label:"Tema & Tampilan",icon:b,action:()=>a("settings-theme")},{id:"settings-profile",label:"Profile",icon:y.Z,action:()=>a("settings-profile")}]}],T=e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},F=M.filter(e=>e.label.toLowerCase().includes(Z.toLowerCase())||e.children?.some(e=>e.label.toLowerCase().includes(Z.toLowerCase())));return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,t.jsxs)("div",{className:(0,D.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",d?"translate-x-0":"-translate-x-full"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"HP"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xs md:text-sm font-semibold text-gray-900",children:"HafiPortrait"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Admin Panel"})]})]}),t.jsx(P.z,{variant:"ghost",size:"sm",onClick:()=>c(!1),className:"lg:hidden",children:t.jsx(N.Z,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(_.I,{placeholder:"Cari menu...",value:Z,onChange:e=>z(e.target.value),className:"pl-10 text-sm"})]})}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:F.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,D.cn)("flex items-center justify-between w-full px-3 py-2 text-sm rounded-lg transition-colors cursor-pointer",s.startsWith(e.id)?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"),onClick:()=>{e.children?T(e.id):e.action&&e.action()},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(e.icon,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:e.label}),void 0!==e.badge&&e.badge>0&&t.jsx(A.C,{variant:"secondary",className:"text-xs",children:e.badge})]}),e.children&&t.jsx("div",{className:"flex-shrink-0",children:o.includes(e.id)?t.jsx(k,{className:"h-4 w-4"}):t.jsx(C.Z,{className:"h-4 w-4"})})]}),e.children&&o.includes(e.id)&&t.jsx("div",{className:"ml-4 mt-2 space-y-1",children:e.children.map(e=>(0,t.jsxs)("div",{className:(0,D.cn)("flex items-center space-x-3 px-3 py-2 text-sm rounded-lg transition-colors cursor-pointer",s===e.id?"bg-blue-100 text-blue-800 border-l-2 border-blue-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>e.action?.(),children:[t.jsx(e.icon,{className:"h-3 w-3"}),t.jsx("span",{children:e.label})]},e.id))})]},e.id))}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:t.jsx(y.Z,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i?.full_name||"Admin"}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:i?.email||"admin@hafiportrait.com"})]})]}),(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:n,className:"w-full justify-start",children:[t.jsx(S,{className:"h-4 w-4 mr-2"}),"Keluar"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsx(P.z,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:t.jsx(E.Z,{className:"h-5 w-5"})}),t.jsx("h1",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Admin Dashboard"}),t.jsx("div",{className:"w-10"})," "]})}),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"p-4 lg:p-6",children:e})})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>c(!1)})]})}var z=a(83241),M=a(40677),T=a(83276),F=a(40029);let L=(0,h.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var O=a(66705);let B=(0,h.Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);function I({children:e,columns:s={mobile:1,tablet:2,desktop:3},gap:a="md",className:l}){return t.jsx("div",{className:(0,D.cn)("grid",{sm:"gap-2",md:"gap-4",lg:"gap-6"}[a],`grid-cols-${s.mobile||1}`,`sm:grid-cols-${s.tablet||2}`,`lg:grid-cols-${s.desktop||3}`,l),children:e})}function q({title:e,subtitle:s,value:a,icon:l,children:i,onClick:n,className:r}){let d=n?"button":"div";return(0,t.jsxs)(d,{onClick:n,className:(0,D.cn)("bg-white rounded-lg border border-gray-200 p-4","transition-all duration-200",n&&["cursor-pointer touch-manipulation","hover:border-gray-300 hover:shadow-md","active:scale-[0.98] active:shadow-sm"],r),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 text-left",children:[t.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e}),s&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:s}),void 0!==a&&t.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 mt-2",children:a})]}),l&&t.jsx("div",{className:"flex-shrink-0 text-gray-400",children:l})]}),i&&t.jsx("div",{className:"mt-4",children:i})]})}var $=a(63980);function R({onCreateEvent:e,onUploadPhoto:s,onViewAnalytics:a,onSystemCheck:l}){let i=[{label:"Buat Event",icon:x,color:"bg-blue-500 hover:bg-blue-600",action:e},{label:"Upload Foto",icon:$.Z,color:"bg-green-500 hover:bg-green-600",action:s},{label:"Analytics",icon:v,color:"bg-purple-500 hover:bg-purple-600",action:a},{label:"System Check",icon:p,color:"bg-orange-500 hover:bg-orange-600",action:l}];return t.jsx(z.Zb,{children:(0,t.jsxs)(z.aY,{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:i.map((e,s)=>(0,t.jsxs)(P.z,{onClick:e.action,className:`${e.color} text-white h-16 flex flex-col items-center justify-center space-y-1 text-center`,children:[t.jsx(e.icon,{className:"h-4 w-4 md:h-5 md:w-5"}),t.jsx("span",{className:"text-xs leading-tight",children:e.label})]},s))})]})})}var U=a(48271);let G=(0,h.Z)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var K=a(44036);function Q({isOpen:e,onClose:s,slideshowPhotos:a=[],homepagePhotos:i=[],onAddToSlideshow:n,onRemoveFromSlideshow:r,isAddingToSlideshow:d=!1}){let[c,o]=(0,l.useState)(""),[m,u]=(0,l.useState)("current"),h=i.filter(e=>e.original_name.toLowerCase().includes(c.toLowerCase()));return(0,t.jsxs)(t.Fragment,{children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 transition-opacity",onClick:s}),(0,t.jsxs)("div",{className:(0,D.cn)("fixed top-0 right-0 h-full w-full md:w-[600px] bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out",e?"translate-x-0":"translate-x-full"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Kelola Hero Slideshow"}),(0,t.jsxs)("p",{className:"text-sm text-blue-100",children:[a.length," foto aktif • ",i.length," foto tersedia"]})]}),t.jsx(P.z,{variant:"ghost",size:"sm",onClick:s,className:"text-white hover:bg-white/20",children:t.jsx(N.Z,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,t.jsxs)("button",{onClick:()=>u("current"),className:(0,D.cn)("flex-1 px-4 py-3 text-sm font-medium transition-colors","current"===m?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"),children:[t.jsx(U.Z,{className:"w-4 h-4 inline mr-2"}),"Slideshow Aktif (",a.length,")"]}),(0,t.jsxs)("button",{onClick:()=>u("add"),className:(0,D.cn)("flex-1 px-4 py-3 text-sm font-medium transition-colors","add"===m?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"),children:[t.jsx(x,{className:"w-4 h-4 inline mr-2"}),"Tambah Foto (",h.length,")"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 max-h-[calc(100vh-200px)]",children:"current"===m?t.jsx("div",{className:"space-y-4",children:a.length>0?t.jsx("div",{className:"space-y-3",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[t.jsx("div",{className:"cursor-move text-gray-400",children:t.jsx(G,{className:"w-4 h-4"})}),t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:s+1}),t.jsx("img",{src:e.url,alt:e.original_name,className:"w-16 h-16 object-cover rounded-md"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",children:e.original_name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Urutan #",s+1]})]}),t.jsx(P.z,{size:"sm",variant:"outline",onClick:()=>r(e.id),className:"text-red-600 border-red-200 hover:bg-red-50",children:t.jsx(N.Z,{className:"w-4 h-4"})})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(U.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum Ada Foto Slideshow"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Tambahkan foto dari galeri homepage untuk memulai slideshow"}),(0,t.jsxs)(P.z,{onClick:()=>u("add"),children:[t.jsx(x,{className:"w-4 h-4 mr-2"}),"Tambah Foto Pertama"]})]})}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(_.I,{placeholder:"Cari foto...",value:c,onChange:e=>o(e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(A.C,{variant:"secondary",children:[h.length," foto tersedia"]}),(0,t.jsxs)(A.C,{variant:"outline",children:[h.filter(e=>!a.some(s=>s.id===e.id)).length," belum di slideshow"]})]}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(e=>{let s=a.some(s=>s.id===e.id);return(0,t.jsxs)("div",{className:(0,D.cn)("relative group border-2 rounded-lg transition-all",s?"border-green-500 bg-green-50":"border-gray-200 hover:border-blue-300"),children:[t.jsx("img",{src:e.url,alt:e.original_name,className:"w-full aspect-square object-cover rounded-md"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all rounded-md"}),t.jsx("div",{className:"absolute top-2 left-2",children:s?(0,t.jsxs)(A.C,{className:"bg-green-500 text-white",children:[t.jsx(K.Z,{className:"w-3 h-3 mr-1"}),"Di Slideshow"]}):t.jsx(A.C,{variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:"Klik untuk tambah"})}),t.jsx("div",{className:"absolute bottom-3 right-3",children:s?t.jsx("div",{className:"bg-green-500 text-white rounded-full p-3 shadow-lg",children:t.jsx(K.Z,{className:"w-5 h-5"})}):t.jsx(P.z,{size:"lg",onClick:()=>n(e.id),disabled:d,className:"rounded-full p-3 bg-blue-500 hover:bg-blue-600 hover:scale-110 transition-all shadow-lg",children:d?t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(x,{className:"w-5 h-5"})})})]},e.id)})}),0===h.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(w,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Tidak ada foto yang cocok dengan pencarian"})]})]})}),t.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{children:"Maksimal 10 foto slideshow"}),(0,t.jsxs)("span",{children:[a.length,"/10 foto"]})]})})]})]})}function Y({stats:e}){return(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)(z.Zb,{className:"hover:shadow-md transition-shadow duration-200",children:[(0,t.jsxs)(z.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 px-4 sm:px-6",children:[t.jsx(z.ll,{className:"text-sm font-medium text-gray-700",children:"Total Event"}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(u.Z,{className:"h-4 w-4 text-blue-600"})})]}),(0,t.jsxs)(z.aY,{className:"px-4 sm:px-6",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e?.totalEvents||0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Event aktif & selesai"})]})]}),(0,t.jsxs)(z.Zb,{className:"hover:shadow-md transition-shadow duration-200",children:[(0,t.jsxs)(z.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 px-4 sm:px-6",children:[t.jsx(z.ll,{className:"text-sm font-medium text-gray-700",children:"Total Foto"}),t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(T.Z,{className:"h-4 w-4 text-green-600"})})]}),(0,t.jsxs)(z.aY,{className:"px-4 sm:px-6",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e?.totalPhotos||0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Di semua galeri"})]})]}),(0,t.jsxs)(z.Zb,{className:"hover:shadow-md transition-shadow duration-200 sm:col-span-2 lg:col-span-1",children:[(0,t.jsxs)(z.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 px-4 sm:px-6",children:[t.jsx(z.ll,{className:"text-sm font-medium text-gray-700",children:"Total Pesan"}),t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(F.Z,{className:"h-4 w-4 text-purple-600"})})]}),(0,t.jsxs)(z.aY,{className:"px-4 sm:px-6",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e?.totalMessages||0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dari pengunjung"})]})]})]})}let H=(0,h.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),V=(0,h.Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),W=(0,h.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),J=(0,h.Z)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),X=(0,h.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ee=(0,h.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);function es({events:e}){let s=e.reduce((e,s)=>{let a=s.status||"active";return e[a]=(e[a]||0)+1,e},{}),a=e.length,l=s.active||0,i=s.completed||0,n=e.filter(e=>new Date(e.date)>new Date).length,r=e.filter(e=>new Date(e.date)<new Date).length,d=e.filter(e=>new Date(e.date).toDateString()===new Date().toDateString()).length,c={draft:{icon:t.jsx(b,{className:"w-4 h-4"}),label:"Draft",color:"bg-gray-500",description:"Dalam persiapan"},active:{icon:t.jsx(H,{className:"w-4 h-4"}),label:"Aktif",color:"bg-green-500",description:"Sedang berlangsung"},paused:{icon:t.jsx(V,{className:"w-4 h-4"}),label:"Dijeda",color:"bg-yellow-500",description:"Sementara dihentikan"},completed:{icon:t.jsx(K.Z,{className:"w-4 h-4"}),label:"Selesai",color:"bg-blue-500",description:"Telah berakhir"},cancelled:{icon:t.jsx(W,{className:"w-4 h-4"}),label:"Dibatalkan",color:"bg-red-500",description:"Tidak jadi dilaksanakan"},archived:{icon:t.jsx(J,{className:"w-4 h-4"}),label:"Diarsipkan",color:"bg-gray-400",description:"Disimpan untuk referensi"}};return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{className:"pb-3",children:(0,t.jsxs)(z.ll,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(u.Z,{className:"w-4 h-4 text-wedding-gold"}),"Ringkasan Event"]})}),(0,t.jsxs)(z.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Event"}),t.jsx("span",{className:"font-semibold text-lg",children:a})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Event Aktif"}),t.jsx("span",{className:"font-semibold text-green-600",children:l})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Event Selesai"}),t.jsx("span",{className:"font-semibold text-blue-600",children:i})]})]})]}),(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{className:"pb-3",children:(0,t.jsxs)(z.ll,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(X,{className:"w-4 h-4 text-wedding-gold"}),"Timeline Event"]})}),(0,t.jsxs)(z.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Hari Ini"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[d>0&&t.jsx(f.Z,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"font-semibold text-orange-600",children:d})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Mendatang"}),t.jsx("span",{className:"font-semibold text-blue-600",children:n})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Sudah Lewat"}),t.jsx("span",{className:"font-semibold text-gray-600",children:r})]})]})]}),(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{className:"pb-3",children:(0,t.jsxs)(z.ll,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(ee,{className:"w-4 h-4 text-wedding-gold"}),"Status Event"]})}),(0,t.jsxs)(z.aY,{className:"space-y-2",children:[Object.entries(c).map(([e,a])=>{let l=s[e]||0;return 0===l?null:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(A.C,{variant:"outline",className:`${a.color} text-white border-none`,children:[a.icon,a.label]})}),t.jsx("span",{className:"font-semibold",children:l})]},e)}),0===a&&(0,t.jsxs)("div",{className:"text-center text-gray-500 py-4",children:[t.jsx(u.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"Belum ada event"})]})]})]})]})}let ea=(0,h.Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var et=a(91779);function el({onRefresh:e}){let{toast:s}=(0,o.pm)(),[a,i]=(0,l.useState)(!1),[n,r]=(0,l.useState)(null),[c,m]=(0,l.useState)([]),u=async()=>{i(!0);try{let a=await (0,d.N)("GET","/api/admin/events/auto-status?action=health-check"),t=await a.json();r(t),s({title:"Health Check Completed! \uD83D\uDD0D",description:`Processed ${t.summary.totalProcessed} events, ${t.archiveSuggestions.length} suggestions`}),e&&e()}catch(e){s({title:"Health Check Failed",description:"Terjadi kesalahan saat menjalankan health check.",variant:"destructive"})}finally{i(!1)}},h=async()=>{i(!0);try{let a=await (0,d.N)("GET","/api/admin/events/auto-status?action=auto-complete"),t=await a.json();s({title:"Auto-Complete Finished! ✅",description:`${t.processed} expired events marked as completed`}),e&&e()}catch(e){s({title:"Auto-Complete Failed",description:"Gagal menjalankan auto-complete events.",variant:"destructive"})}finally{i(!1)}},x=async()=>{i(!0);try{let a=await (0,d.N)("GET","/api/admin/events/auto-status?action=auto-activate"),t=await a.json();s({title:"Auto-Activate Finished! \uD83D\uDE80",description:`${t.processed} today events activated`}),e&&e()}catch(e){s({title:"Auto-Activate Failed",description:"Gagal menjalankan auto-activate events.",variant:"destructive"})}finally{i(!1)}},p=async()=>{i(!0);try{let e=await (0,d.N)("GET","/api/admin/events/auto-status?action=suggest-archive"),a=await e.json();m(a.suggestions),s({title:"Archive Suggestions Ready! \uD83D\uDCA1",description:`Found ${a.suggestions.length} events ready for archive`})}catch(e){s({title:"Failed to Get Suggestions",description:"Gagal mendapatkan saran archive.",variant:"destructive"})}finally{i(!1)}},g=async a=>{i(!0);try{let t=await (0,d.N)("POST","/api/admin/events/auto-status",{action:"bulk-archive",eventIds:a}),l=await t.json();s({title:"Bulk Archive Completed! \uD83D\uDCE6",description:`${l.summary.successful}/${l.summary.total} events archived successfully`}),m([]),e&&e()}catch(e){s({title:"Bulk Archive Failed",description:"Gagal menjalankan bulk archive.",variant:"destructive"})}finally{i(!1)}};return(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[(0,t.jsxs)(z.Ol,{children:[(0,t.jsxs)(z.ll,{className:"flex items-center gap-2",children:[t.jsx(ea,{className:"w-5 h-5 text-wedding-gold"}),"Auto Status Management"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Otomatisasi pengelolaan status event berdasarkan tanggal dan aktivitas"})]}),(0,t.jsxs)(z.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:u,disabled:a,className:"flex items-center gap-2",children:[t.jsx(et.Z,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Health Check"]}),(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:h,disabled:a,className:"flex items-center gap-2",children:[t.jsx(K.Z,{className:"w-4 h-4"}),"Auto Complete"]}),(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:x,disabled:a,className:"flex items-center gap-2",children:[t.jsx(H,{className:"w-4 h-4"}),"Auto Activate"]}),(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:p,disabled:a,className:"flex items-center gap-2",children:[t.jsx(J,{className:"w-4 h-4"}),"Get Suggestions"]})]}),n&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-medium flex items-center gap-2",children:[t.jsx(ee,{className:"w-4 h-4"}),"Last Health Check Results"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("div",{className:"text-lg font-semibold text-green-600",children:n.autoComplete.processed}),t.jsx("div",{className:"text-sm text-green-800",children:"Auto Completed"})]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("div",{className:"text-lg font-semibold text-blue-600",children:n.autoActivate.processed}),t.jsx("div",{className:"text-sm text-blue-800",children:"Auto Activated"})]}),(0,t.jsxs)("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[t.jsx("div",{className:"text-lg font-semibold text-orange-600",children:n.archiveSuggestions.length}),t.jsx("div",{className:"text-sm text-orange-800",children:"Archive Suggestions"})]})]}),n.summary.errors.length>0&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(f.Z,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"font-medium text-red-800",children:"Errors Found"})]}),(0,t.jsxs)("div",{className:"text-sm text-red-700",children:[n.summary.errors.length," events failed to process"]})]})]}),c.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium flex items-center gap-2",children:[t.jsx(J,{className:"w-4 h-4"}),"Archive Suggestions (",c.length,")"]}),t.jsx(P.z,{size:"sm",onClick:()=>g(c.map(e=>e.eventId)),disabled:a,className:"bg-wedding-gold hover:bg-wedding-gold/90 text-black",children:"Archive All"})]}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:e.eventName}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.daysSinceCompletion," days since completion"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(A.C,{variant:"outline",className:"bg-orange-100 text-orange-800",children:[t.jsx(X,{className:"w-3 h-3 mr-1"}),e.daysSinceCompletion,"d"]}),t.jsx(P.z,{size:"sm",variant:"outline",onClick:()=>g([e.eventId]),disabled:a,children:"Archive"})]})]},e.eventId))})]}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Auto Status Rules:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Auto Complete"}),": Events aktif yang sudah lewat 24 jam"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Auto Activate"}),": Events draft yang tanggalnya hari ini"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Archive Suggestions"}),": Events selesai lebih dari 7 hari"]}),(0,t.jsxs)("li",{children:["• ",t.jsx("strong",{children:"Health Check"}),": Jalankan semua rule sekaligus"]})]})]})]})]})}var ei=a(35099),en=a.n(ei),er=a(47800),ed=a(83036),ec=a(67209),eo=a(10747),em=a(61252),eu=a(35729),eh=a(5500);function ex({editingEvent:e,onSave:s,onCancel:a,isSaving:i,createdEvent:n}){let{toast:r}=(0,o.pm)(),[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),[p,g]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),j=async(e,s)=>{await (0,ed.Pm)(e,s,r)};return f&&n?(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(z.Zb,{className:"border-green-200 bg-green-50",children:t.jsx(z.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(K.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Event Berhasil Dibuat! \uD83C\uDF89"}),(0,t.jsxs)("p",{className:"text-green-700",children:['Event "',n.name,'" siap digunakan']})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center gap-2",children:[t.jsx(eo.Z,{className:"w-5 h-5 text-wedding-gold"}),"QR Code Event"]})}),t.jsx(z.aY,{className:"text-center space-y-4",children:n.qr_code?(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-dashed border-gray-300 inline-block",children:t.jsx(en(),{src:n.qr_code,alt:"QR Code Event",width:192,height:192,className:"w-48 h-48 mx-auto"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.z,{onClick:()=>n?.qr_code&&window.open(n.qr_code,"_blank"),className:"w-full bg-wedding-gold hover:bg-wedding-gold/90 text-black",children:[t.jsx(em.Z,{className:"w-4 h-4 mr-2"}),"Buka QR Code"]}),(0,t.jsxs)(P.z,{variant:"outline",onClick:()=>j(n.qr_code,"QR Code URL"),className:"w-full",children:[t.jsx(eu.Z,{className:"w-4 h-4 mr-2"}),"Copy QR Code URL"]})]})]}):(0,t.jsxs)("div",{className:"text-gray-500 py-8",children:[t.jsx(eo.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"QR Code sedang diproses..."})]})})]}),(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center gap-2",children:[t.jsx(eh.Z,{className:"w-5 h-5 text-wedding-gold"}),"Informasi Event"]})}),(0,t.jsxs)(z.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(M._,{className:"text-sm font-medium text-gray-600",children:"Nama Event"}),t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:t.jsx("p",{className:"font-semibold",children:n.name})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(M._,{className:"text-sm font-medium text-gray-600",children:"Tanggal Event"}),t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:t.jsx("p",{children:new Date(n.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(M._,{className:"text-sm font-medium text-gray-600",children:"Kode Akses"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsx("code",{className:"text-lg font-bold text-yellow-800",children:n.access_code})}),t.jsx(P.z,{size:"sm",variant:"outline",onClick:()=>j(n.access_code,"Kode Akses"),children:t.jsx(eu.Z,{className:"w-4 h-4"})})]})]}),n.id&&n.access_code&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(P.z,{variant:"outline",onClick:()=>{let e=(0,ec.Lp)(n.id,n.access_code);window.open(e,"_blank")},className:"w-full",children:[t.jsx(em.Z,{className:"w-4 h-4 mr-2"}),"Buka Link Event"]}),(0,t.jsxs)(P.z,{variant:"outline",onClick:()=>{j((0,ec.Lp)(n.id,n.access_code),"Link Event")},className:"w-full",children:[t.jsx(eu.Z,{className:"w-4 h-4 mr-2"}),"Copy Link Event"]})]}),n.is_premium&&t.jsx("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:t.jsx("p",{className:"text-purple-800 font-medium",children:"✨ Event Premium"})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(P.z,{onClick:()=>{v(!1),c(""),u(""),x(""),g(!1)},className:"bg-wedding-gold hover:bg-wedding-gold/90 text-black",children:"➕ Buat Event Lain"}),t.jsx(P.z,{variant:"outline",onClick:a,children:"✅ Selesai"})]})]}):(0,t.jsxs)(z.Zb,{className:"mb-6 border-wedding-gold/20",children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{className:"text-lg",children:e?"Edit Event":"Buat Event Baru"})}),(0,t.jsxs)(z.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"eventName",children:"Nama Event"}),t.jsx(_.I,{id:"eventName",value:d,onChange:e=>c(e.target.value),placeholder:"Masukkan nama event"})]}),(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"eventDate",children:"Tanggal Event"}),t.jsx(_.I,{id:"eventDate",type:"date",value:m,onChange:e=>u(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"accessCode",children:"Kode Akses"}),t.jsx(_.I,{id:"accessCode",value:h,onChange:e=>x(e.target.value),placeholder:"Masukkan kode akses"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 pb-2",children:[t.jsx("input",{type:"checkbox",id:"isPremium",checked:p,onChange:e=>g(e.target.checked),className:"h-4 w-4 rounded"}),t.jsx(M._,{htmlFor:"isPremium",children:"Event Premium"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(P.z,{onClick:()=>{if(!d||!m||!h){r({title:"Data Tidak Lengkap",description:"Mohon isi semua field yang diperlukan.",variant:"destructive"});return}s({id:e?.id,name:d,date:m,access_code:h,is_premium:p})},disabled:i,className:"bg-wedding-gold hover:bg-wedding-gold/90 text-white",children:i?t.jsx(er.Z,{}):e?"Update Event":"Buat Event"}),t.jsx(P.z,{variant:"outline",onClick:a,children:"Batal"})]})]})]})}var ep=a(40780);let eg=(0,h.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ef=(0,h.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var ev=a(7611),ej=a(97715),eb="Progress",[ey,eN]=(0,ev.b)(eb),[ew,ek]=ey(eb),eC=l.forwardRef((e,s)=>{var a,l;let{__scopeProgress:i,value:n=null,max:r,getValueLabel:d=eD,...c}=e;(r||0===r)&&!eA(r)&&console.error((a=`${r}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let o=eA(r)?r:100;null===n||eZ(n,o)||console.error((l=`${n}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=eZ(n,o)?n:null,u=e_(m)?d(m,o):void 0;return(0,t.jsx)(ew,{scope:i,value:m,max:o,children:(0,t.jsx)(ej.WV.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":e_(m)?m:void 0,"aria-valuetext":u,role:"progressbar","data-state":eP(m,o),"data-value":m??void 0,"data-max":o,...c,ref:s})})});eC.displayName=eb;var eS="ProgressIndicator",eE=l.forwardRef((e,s)=>{let{__scopeProgress:a,...l}=e,i=ek(eS,a);return(0,t.jsx)(ej.WV.div,{"data-state":eP(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...l,ref:s})});function eD(e,s){return`${Math.round(e/s*100)}%`}function eP(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function e_(e){return"number"==typeof e}function eA(e){return e_(e)&&!isNaN(e)&&e>0}function eZ(e,s){return e_(e)&&!isNaN(e)&&e<=s&&e>=0}eE.displayName=eS;let ez=l.forwardRef(({className:e,value:s,...a},l)=>t.jsx(eC,{ref:l,className:(0,D.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx(eE,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));ez.displayName=eC.displayName;var eM=a(18338),eT="horizontal",eF=["horizontal","vertical"],eL=l.forwardRef((e,s)=>{let{decorative:a,orientation:l=eT,...i}=e,n=eF.includes(l)?l:eT;return(0,t.jsx)(ej.WV.div,{"data-orientation":n,...a?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"},...i,ref:s})});eL.displayName="Separator";let eO=l.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...l},i)=>t.jsx(eL,{ref:i,decorative:a,orientation:s,className:(0,D.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...l}));eO.displayName=eL.displayName;var eB=a(49010);function eI({eventId:e,eventName:s,isArchived:a=!1,onBackupComplete:i,onArchiveComplete:n}){var r;let[d,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null),[x,p]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),[v,j]=(0,l.useState)(null),b=async()=>{c(!0),f(null),j(null);try{let s=await fetch(`/api/admin/events/${e}/backup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({compressionQuality:.9,includeMetadata:!0})}),a=await s.json();if(a.success)h(a.data),j(`Backup started successfully! Backup ID: ${a.data.backupId}`),y(a.data.backupId),i&&i(a.data);else throw Error(a.message||"Backup failed")}catch(e){f(`Backup failed: ${e.message}`),c(!1)}},y=async s=>{try{let a=await fetch(`/api/admin/events/${e}/backup?backupId=${s}`),t=await a.json();t.success&&(h(t.data),("completed"===t.data.status||"failed"===t.data.status)&&(c(!1),"completed"===t.data.status?j(`Backup completed! ${t.data.successfulUploads}/${t.data.totalPhotos} photos backed up successfully.`):f(`Backup failed: ${t.data.error||"Unknown error"}`)))}catch(e){console.error("Failed to poll backup status:",e)}},N=async()=>{if(!u?.backupId){f("Cannot archive: No completed backup found");return}m(!0),f(null);try{let s=await fetch(`/api/admin/events/${e}/archive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({backupId:u.backupId})}),a=await s.json();if(a.success)p(a.data),j("Event archived successfully!"),n&&n(a.data);else throw Error(a.message||"Archive failed")}catch(e){f(`Archive failed: ${e.message}`)}finally{m(!1)}},w=async()=>{m(!0),f(null);try{let s=await fetch(`/api/admin/events/${e}/archive`,{method:"DELETE"}),a=await s.json();if(a.success)p({...x,isArchived:!1}),j("Event unarchived successfully!");else throw Error(a.message||"Unarchive failed")}catch(e){f(`Unarchive failed: ${e.message}`)}finally{m(!1)}},k=()=>u&&0!==u.totalPhotos?Math.round(u.processedPhotos/u.totalPhotos*100):0;return(0,t.jsxs)(z.Zb,{className:"w-full",children:[(0,t.jsxs)(z.Ol,{children:[(0,t.jsxs)(z.ll,{className:"flex items-center gap-2",children:[t.jsx(eg,{className:"h-5 w-5"}),"Event Backup & Archive Manager"]}),(0,t.jsxs)(z.SZ,{children:["Backup event photos to Google Drive and manage archive status for: ",t.jsx("strong",{children:s})]})]}),(0,t.jsxs)(z.aY,{className:"space-y-6",children:[g&&(0,t.jsxs)(eM.bZ,{variant:"destructive",children:[t.jsx(ep.Z,{className:"h-4 w-4"}),t.jsx(eM.X,{children:g})]}),v&&(0,t.jsxs)(eM.bZ,{children:[t.jsx(K.Z,{className:"h-4 w-4"}),t.jsx(eM.X,{children:v})]}),x&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[t.jsx(J,{className:"h-4 w-4"}),"Archive Status"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(A.C,{variant:x.isArchived?"default":"outline",children:x.isArchived?"ARCHIVED":"ACTIVE"}),x.archivedAt&&(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Archived: ",new Date(x.archivedAt).toLocaleDateString()]})]}),x.googleDriveBackupUrl&&(0,t.jsxs)(P.z,{variant:"outline",size:"sm",onClick:()=>window.open(x.googleDriveBackupUrl,"_blank"),children:[t.jsx(em.Z,{className:"h-4 w-4 mr-1"}),"View in Google Drive"]})]})]}),t.jsx(eO,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[t.jsx(eB.Z,{className:"h-4 w-4"}),"Backup to Google Drive"]}),u&&(0,t.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Backup Progress"}),(r=u.status,(0,t.jsxs)(A.C,{variant:{completed:"default",failed:"destructive",backing_up:"secondary",initializing:"secondary"}[r]||"outline",className:"flex items-center gap-1",children:[(e=>{switch(e){case"completed":return t.jsx(K.Z,{className:"h-4 w-4 text-green-500"});case"failed":return t.jsx(ep.Z,{className:"h-4 w-4 text-red-500"});case"backing_up":case"initializing":return t.jsx(et.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return t.jsx(X,{className:"h-4 w-4 text-gray-500"})}})(r),r.replace("_"," ").toUpperCase()]}))]}),"backing_up"===u.status&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(ez,{value:k(),className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:[u.processedPhotos," / ",u.totalPhotos," photos"]}),(0,t.jsxs)("span",{children:[k(),"% complete"]})]})]}),"completed"===u.status&&(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[t.jsx("div",{className:"text-green-600 font-medium",children:"✅ Backup completed successfully!"}),(0,t.jsxs)("div",{children:["\uD83D\uDCCA ",u.successfulUploads," photos backed up"]}),u.failedUploads>0&&(0,t.jsxs)("div",{className:"text-orange-600",children:["⚠️ ",u.failedUploads," photos failed"]}),u.duration&&(0,t.jsxs)("div",{children:["⏱️ Duration: ",Math.round(u.duration/1e3),"s"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(P.z,{onClick:b,disabled:d||x?.isArchived,className:"flex items-center gap-2",children:[d?t.jsx(et.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(eB.Z,{className:"h-4 w-4"}),d?"Backing Up...":"Start Backup"]}),u?.status==="completed"&&!x?.isArchived&&(0,t.jsxs)(P.z,{variant:"outline",onClick:N,disabled:o,className:"flex items-center gap-2",children:[o?t.jsx(et.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(J,{className:"h-4 w-4"}),o?"Archiving...":"Archive Event"]}),x?.isArchived&&(0,t.jsxs)(P.z,{variant:"outline",onClick:w,disabled:o,className:"flex items-center gap-2",children:[o?t.jsx(et.Z,{className:"h-4 w-4 animate-spin"}):t.jsx(J,{className:"h-4 w-4"}),o?"Unarchiving...":"Unarchive Event"]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsx("div",{children:"\uD83D\uDCBE Backup destination: Google Drive (15GB+ free storage)"}),t.jsx("div",{children:"\uD83D\uDD12 High-quality compression (90%) for archival purposes"}),t.jsx("div",{children:"\uD83D\uDCC1 Organized in event-specific folders"}),t.jsx("div",{children:"\uD83C\uDF10 Publicly accessible backup links"})]})]})]})}let eq=(0,h.Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function e$({event:e,onStatusChange:s,onRefresh:a}){let{toast:i}=(0,o.pm)(),[n,r]=(0,l.useState)(!1),d=e.status||"draft",c=async t=>{if(t!==d){if("archived"===d&&"active"!==t){i({title:"Tidak Dapat Mengubah Status",description:"Event yang sudah diarsipkan hanya bisa diaktifkan kembali.",variant:"destructive"});return}if("cancelled"===d&&!["draft","active"].includes(t)){i({title:"Tidak Dapat Mengubah Status",description:"Event yang dibatalkan hanya bisa dikembalikan ke draft atau aktif.",variant:"destructive"});return}r(!0);try{await s(e.id,t),i({title:"Status Event Berhasil Diubah!",description:`Event "${e.name}" sekarang berstatus ${m(t)}.`}),a&&a()}catch(e){i({title:"Gagal Mengubah Status",description:"Terjadi kesalahan saat mengubah status event.",variant:"destructive"})}finally{r(!1)}}},m=e=>({draft:"Draft",active:"Aktif",paused:"Dijeda",completed:"Selesai",cancelled:"Dibatalkan",archived:"Diarsipkan"})[e],h=new Date(e.date),x=h<new Date,p=h.toDateString()===new Date().toDateString();return(0,t.jsxs)(z.Zb,{className:"border-wedding-gold/20",children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(u.Z,{className:"w-5 h-5 text-wedding-gold"}),"Event Status Management"]}),(e=>{let s={draft:{variant:"secondary",icon:t.jsx(b,{className:"w-3 h-3"}),label:"Draft",color:"bg-gray-500"},active:{variant:"default",icon:t.jsx(H,{className:"w-3 h-3"}),label:"Aktif",color:"bg-green-500"},paused:{variant:"secondary",icon:t.jsx(V,{className:"w-3 h-3"}),label:"Dijeda",color:"bg-yellow-500"},completed:{variant:"default",icon:t.jsx(K.Z,{className:"w-3 h-3"}),label:"Selesai",color:"bg-blue-500"},cancelled:{variant:"destructive",icon:t.jsx(W,{className:"w-3 h-3"}),label:"Dibatalkan",color:"bg-red-500"},archived:{variant:"outline",icon:t.jsx(eq,{className:"w-3 h-3"}),label:"Diarsipkan",color:"bg-gray-400"}}[e];return(0,t.jsxs)(A.C,{variant:s.variant,className:`${s.color} text-white flex items-center gap-1`,children:[s.icon,s.label]})})(d)]})}),(0,t.jsxs)(z.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx(L,{className:"w-5 h-5 mx-auto mb-1 text-blue-600"}),t.jsx("div",{className:"text-lg font-semibold",children:e.participant_count||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Partisipan"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx(T.Z,{className:"w-5 h-5 mx-auto mb-1 text-green-600"}),t.jsx("div",{className:"text-lg font-semibold",children:e.photo_count||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Foto"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx(F.Z,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),t.jsx("div",{className:"text-lg font-semibold",children:e.message_count||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Pesan"})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx(X,{className:"w-5 h-5 mx-auto mb-1 text-orange-600"}),t.jsx("div",{className:"text-xs font-semibold",children:e.last_activity?new Date(e.last_activity).toLocaleDateString("id-ID"):"Tidak ada"}),t.jsx("div",{className:"text-xs text-gray-600",children:"Aktivitas Terakhir"})]})]}),p&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx(f.Z,{className:"w-5 h-5 text-yellow-600"}),t.jsx("span",{className:"text-sm text-yellow-800",children:"Event berlangsung hari ini! Pastikan status sudah sesuai."})]}),x&&"active"===d&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx(X,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm text-blue-800",children:"Event sudah berlalu. Pertimbangkan untuk menyelesaikan atau mengarsipkan event."})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2",children:["Status Saat Ini: ",m(d)]}),t.jsx("p",{className:"text-sm text-gray-600",children:{draft:"Event masih dalam tahap persiapan dan belum dapat diakses oleh tamu.",active:"Event sedang berlangsung dan dapat diakses oleh tamu untuk upload foto dan kirim pesan.",paused:"Event dijeda sementara. Tamu tidak dapat upload foto atau kirim pesan baru.",completed:"Event telah selesai. Data masih dapat diakses tetapi tidak ada aktivitas baru.",cancelled:"Event dibatalkan. Semua aktivitas dihentikan.",archived:"Event diarsipkan untuk penyimpanan jangka panjang. Akses terbatas."}[d]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Aksi yang Tersedia:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(({draft:[{status:"active",label:"Aktifkan Event",icon:t.jsx(H,{className:"w-4 h-4"}),variant:"default"},{status:"cancelled",label:"Batalkan",icon:t.jsx(W,{className:"w-4 h-4"}),variant:"destructive"}],active:[{status:"paused",label:"Jeda Event",icon:t.jsx(V,{className:"w-4 h-4"}),variant:"secondary"},{status:"completed",label:"Selesaikan",icon:t.jsx(K.Z,{className:"w-4 h-4"}),variant:"default"},{status:"cancelled",label:"Batalkan",icon:t.jsx(W,{className:"w-4 h-4"}),variant:"destructive"}],paused:[{status:"active",label:"Lanjutkan",icon:t.jsx(H,{className:"w-4 h-4"}),variant:"default"},{status:"completed",label:"Selesaikan",icon:t.jsx(K.Z,{className:"w-4 h-4"}),variant:"default"},{status:"cancelled",label:"Batalkan",icon:t.jsx(W,{className:"w-4 h-4"}),variant:"destructive"}],completed:[{status:"archived",label:"Arsipkan",icon:t.jsx(eq,{className:"w-4 h-4"}),variant:"outline"},{status:"active",label:"Aktifkan Kembali",icon:t.jsx(H,{className:"w-4 h-4"}),variant:"secondary"}],cancelled:[{status:"draft",label:"Kembalikan ke Draft",icon:t.jsx(b,{className:"w-4 h-4"}),variant:"secondary"},{status:"active",label:"Aktifkan Kembali",icon:t.jsx(H,{className:"w-4 h-4"}),variant:"default"}],archived:[{status:"active",label:"Aktifkan Kembali",icon:t.jsx(H,{className:"w-4 h-4"}),variant:"default"}]})[d]||[]).map(e=>(0,t.jsxs)(P.z,{variant:e.variant,size:"sm",onClick:()=>c(e.status),disabled:n,className:"flex items-center gap-2",children:[e.icon,e.label]},e.status))})]}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),t.jsx("span",{className:"text-sm text-blue-800",children:"Mengubah status event..."})]})]})]})}function eR({events:e,onEdit:s,onDelete:a,onBackupComplete:i,onArchiveComplete:n,onStatusChange:r,onRefresh:d}){let{toast:c}=(0,o.pm)(),[m,h]=(0,l.useState)(null),[x,p]=(0,l.useState)({}),g=async(e,s)=>{await (0,ed.Pm)(e,s,c)},f=e=>{h(m===e?null:e)},v=e=>{if(e.is_archived)return(0,t.jsxs)(A.C,{variant:"default",className:"bg-green-600 text-white flex items-center gap-1",children:[t.jsx(J,{className:"w-3 h-3"}),"Archived"]});let s=x[e.id];if(s){if("backing_up"===s.status||"initializing"===s.status)return(0,t.jsxs)(A.C,{variant:"secondary",className:"flex items-center gap-1",children:[t.jsx(et.Z,{className:"w-3 h-3 animate-spin"}),"Backing up..."]});if("completed"===s.status)return(0,t.jsxs)(A.C,{variant:"default",className:"bg-blue-600 text-white flex items-center gap-1",children:[t.jsx(K.Z,{className:"w-3 h-3"}),"Backup Ready"]});if("failed"===s.status)return(0,t.jsxs)(A.C,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(ep.Z,{className:"w-3 h-3"}),"Backup Failed"]})}return(0,t.jsxs)(A.C,{variant:"outline",className:"flex items-center gap-1",children:[t.jsx(eg,{className:"w-3 h-3"}),"No Backup"]})},j=(e,s)=>{p(a=>({...a,[e]:s})),i&&i(e,s),c({title:"Backup Completed!",description:"Event backup completed successfully."})},y=(e,s)=>{n&&n(e,s),c({title:"Event Archived!",description:"Event has been archived successfully."})};return 0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(u.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Belum ada event yang dibuat. Buat event pertama Anda!"})]}):t.jsx("div",{className:"space-y-4",children:e.map(e=>t.jsx(z.Zb,{className:"border-wedding-gold/20",children:t.jsx(z.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-4 md:space-y-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:e.name}),e.is_premium&&t.jsx(A.C,{className:"bg-wedding-gold text-white",children:"Premium"}),v(e)]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Tanggal: ",new Date(e.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:["Kode Akses: ",t.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:e.access_code})]}),e.is_archived&&e.google_drive_backup_url&&t.jsx("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-green-800 flex items-center gap-2",children:[t.jsx(J,{className:"w-4 h-4"}),"Archived on ",e.archived_at?new Date(e.archived_at).toLocaleDateString("id-ID"):"Unknown",(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>window.open(e.google_drive_backup_url,"_blank"),className:"ml-auto",children:[t.jsx(em.Z,{className:"w-3 h-3 mr-1"}),"View Backup"]})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>{g((0,ec.Lp)(e.id,e.access_code),"Link Share")},children:[t.jsx(eh.Z,{className:"w-3 h-3 mr-1"})," Copy Link"]}),(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>e.qr_code&&window.open(e.qr_code,"_blank"),children:[t.jsx(eo.Z,{className:"w-3 h-3 mr-1"})," QR Code"]}),(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>window.open(`/event/${e.id}`,"_blank"),children:[t.jsx(em.Z,{className:"w-3 h-3 mr-1"})," Lihat Event"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>f(e.id),className:"flex items-center gap-2",children:[t.jsx(b,{className:"w-4 h-4"}),m===e.id?"Hide Management":"Manage Event"]}),(0,t.jsxs)(P.z,{size:"sm",variant:"outline",onClick:()=>s(e),className:"min-h-[44px] min-w-[44px]",children:[t.jsx(ef,{className:"w-4 h-4"}),t.jsx("span",{className:"sr-only",children:"Edit Event"})]}),(0,t.jsxs)(P.z,{size:"sm",variant:"destructive",onClick:()=>{confirm("Yakin ingin menghapus event ini? Semua foto dan pesan akan ikut terhapus.")&&a(e.id)},className:"min-h-[44px] min-w-[44px]",children:[t.jsx(O.Z,{className:"w-4 h-4"}),t.jsx("span",{className:"sr-only",children:"Hapus Event"})]})]})]}),m===e.id&&(0,t.jsxs)("div",{className:"border-t pt-4 space-y-6",children:[r&&t.jsx(e$,{event:e,onStatusChange:r,onRefresh:d}),t.jsx(eI,{eventId:e.id,eventName:e.name,isArchived:e.is_archived,onBackupComplete:s=>j(e.id,s),onArchiveComplete:s=>y(e.id,s)})]})]})})},e.id))})}var eU=a(7651);(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./system-monitor"]},ssr:!1});let eG=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./dslr-monitor"]},ssr:!1}),eK=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./backup-status-monitor"]},ssr:!1}),eQ=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./smart-notification-manager"]},ssr:!1}),eY=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ../ui/color-palette-switcher"]},ssr:!1}),eH=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./alert-dashboard"]},ssr:!1}),eV=(0,eU.default)(async()=>{},{loadableGenerated:{modules:["components/admin/modern-dashboard-sections.tsx -> ./real-time-monitor"]},ssr:!1});function eW({stats:e,events:s=[]}){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-4 md:p-6 text-white",children:[t.jsx("h1",{className:"text-lg md:text-2xl font-bold mb-2",children:"Selamat Datang di Admin Dashboard"}),t.jsx("p",{className:"text-sm md:text-base text-blue-100",children:"Kelola event dan galeri foto HafiPortrait Photography"})]}),(0,t.jsxs)(I,{columns:{mobile:1,tablet:2,desktop:4},children:[t.jsx(q,{title:"Total Event",value:e?.totalEvents||0,icon:t.jsx(u.Z,{className:"h-5 w-5"}),subtitle:"Event aktif & selesai",trend:"+12%"}),t.jsx(q,{title:"Total Foto",value:e?.totalPhotos||0,icon:t.jsx(T.Z,{className:"h-5 w-5"}),subtitle:"Semua galeri",trend:"+8%"}),t.jsx(q,{title:"Total Pesan",value:e?.totalMessages||0,icon:t.jsx(F.Z,{className:"h-5 w-5"}),subtitle:"Dari pengunjung",trend:"+15%"}),t.jsx(q,{title:"Pengunjung",value:"2.4K",icon:t.jsx(L,{className:"h-5 w-5"}),subtitle:"Bulan ini",trend:"+23%"})]}),(0,t.jsxs)(I,{columns:{mobile:2,tablet:4,desktop:4},children:[t.jsx(z.Zb,{className:"bg-green-50 border-green-200",children:(0,t.jsxs)(z.aY,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>"active"===e.status).length}),t.jsx("div",{className:"text-sm text-green-700",children:"Event Aktif"})]})}),t.jsx(z.Zb,{className:"bg-blue-50 border-blue-200",children:(0,t.jsxs)(z.aY,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(e=>"completed"===e.status).length}),t.jsx("div",{className:"text-sm text-blue-700",children:"Event Selesai"})]})}),t.jsx(z.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,t.jsxs)(z.aY,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.filter(e=>"draft"===e.status).length}),t.jsx("div",{className:"text-sm text-yellow-700",children:"Draft"})]})}),t.jsx(z.Zb,{className:"bg-purple-50 border-purple-200",children:(0,t.jsxs)(z.aY,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.filter(e=>e.is_archived).length}),t.jsx("div",{className:"text-sm text-purple-700",children:"Diarsip"})]})})]}),t.jsx(R,{onCreateEvent:()=>{},onUploadPhoto:()=>{},onViewAnalytics:()=>{},onSystemCheck:()=>{}}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Event Terbaru"})}),t.jsx(z.aY,{children:t.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${"active"===e.status?"bg-green-500":"completed"===e.status?"bg-blue-500":"bg-gray-400"}`}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.name}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString("id-ID")})]})]}),t.jsx(A.C,{variant:"active"===e.status?"default":"secondary",children:e.status})]},e.id))})})]})]})}function eJ({events:e=[],onCreateEvent:s,onEditEvent:a,onDeleteEvent:l,onShowQRCode:i,onUpdateEventStatus:n,onRefresh:r}){return console.log("EventsListSection props:",{onCreateEvent:s,events:e.length}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Daftar Event"}),(0,t.jsxs)(P.z,{onClick:()=>s?.(),className:"w-full sm:w-auto",children:[t.jsx(x,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Event Baru"}),t.jsx("span",{className:"sm:hidden",children:"Buat Event"})]})]}),t.jsx(Y,{stats:{totalEvents:e.length}}),t.jsx(es,{events:e}),t.jsx(eR,{events:e,onEdit:a||(()=>{}),onDelete:l||(()=>{}),onBackupComplete:(e,s)=>{console.log("Backup completed for event:",e,s)},onArchiveComplete:(e,s)=>{console.log("Archive completed for event:",e,s)},onStatusChange:(e,s)=>{n&&n(e,s)},onRefresh:()=>{r&&r()}})]})}function eX({homepagePhotos:e=[],isLoading:s=!1,onUpload:a,onDelete:i,onPhotoClick:n}){let[r,d]=(0,l.useState)(!1);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Galeri Homepage"}),(0,t.jsxs)(P.z,{onClick:()=>d(!0),className:"w-full sm:w-auto",children:[t.jsx(x,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Upload Foto"}),t.jsx("span",{className:"sm:hidden",children:"Upload"})]})]}),r&&(0,t.jsxs)(z.Zb,{className:"border-blue-200",children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(x,{className:"w-5 h-5 text-blue-600"}),"Upload Foto Homepage"]})}),(0,t.jsxs)(z.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"homepage-photo-input",children:"Pilih Foto"}),t.jsx(_.I,{id:"homepage-photo-input",type:"file",multiple:!0,accept:"image/*",onChange:e=>{let s=e.target.files;s&&a&&(a(s),d(!1))},className:"mt-1"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ukuran maksimal 10MB per file. Format: JPG, PNG, GIF"})]}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:t.jsx(P.z,{onClick:()=>d(!1),variant:"outline",className:"w-full sm:w-auto",children:"Batal"})})]})]}),t.jsx(z.Zb,{children:t.jsx(z.aY,{className:"p-6",children:s?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Memuat foto..."})]}):e.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>n?.(s),children:[t.jsx("img",{src:e.url,alt:e.original_name,className:"w-full h-32 object-cover rounded-lg"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all rounded-lg flex items-center justify-center",children:t.jsx(P.z,{size:"sm",variant:"destructive",className:"opacity-0 group-hover:opacity-100 h-8 w-8 p-0",onClick:s=>{s.stopPropagation(),confirm("Yakin ingin menghapus foto ini?")&&i?.(e.id)},children:t.jsx(O.Z,{className:"w-3 h-3"})})})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(g,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Belum ada foto di galeri homepage. Upload foto pertama Anda!"})]})})})]})}function e0({slideshowPhotos:e=[],homepagePhotos:s=[],isLoading:a=!1,onAddToSlideshow:l,onRemoveFromSlideshow:i,isAddingToSlideshow:n=!1,isPanelOpen:r=!1,onPanelToggle:d}){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Hero Slideshow"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Kelola foto untuk slideshow di homepage"})]}),(0,t.jsxs)(P.z,{onClick:()=>d?.(!0),className:"bg-blue-500 hover:bg-blue-600 w-full sm:w-auto",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Kelola Slideshow"}),t.jsx("span",{className:"sm:hidden",children:"Kelola"})]})]}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Foto Slideshow Aktif"})}),t.jsx(z.aY,{children:a?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Array.from({length:4}).map((e,s)=>t.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg animate-pulse"},s))}):e.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("img",{src:e.url,alt:e.original_name,className:"w-full aspect-square object-cover rounded-lg"}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:t.jsx(P.z,{size:"sm",variant:"destructive",onClick:()=>i?.(e.id),className:"h-8 w-8 p-0",children:t.jsx(O.Z,{className:"w-3 h-3"})})}),(0,t.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:["#",s+1]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(B,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Belum ada foto slideshow"}),t.jsx("p",{className:"text-xs text-gray-400",children:"Pilih foto dari galeri homepage di bawah"})]})})]}),t.jsx(z.Zb,{className:"bg-blue-50 border-blue-200",children:t.jsx(z.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx(p,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Tentang Hero Slideshow"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Foto-foto ini akan ditampilkan sebagai slideshow di halaman utama website. Urutan foto akan sesuai dengan urutan yang ditampilkan di atas."})]})]})})}),t.jsx(Q,{isOpen:r,onClose:()=>d?.(!1),slideshowPhotos:e,homepagePhotos:s,onAddToSlideshow:l,onRemoveFromSlideshow:i,isAddingToSlideshow:n})]})}function e1({events:e=[],eventPhotos:s=[],selectedEventForPhotos:a="",isLoading:i=!1,onEventSelect:n,onPhotoUpload:r,onPhotoClick:d,onPhotoDelete:c}){let[o,m]=(0,l.useState)("Official"),[u,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)({}),[f,v]=(0,l.useState)(!1),j=async e=>{let s=Array.from(e.target.files||[]);if(0===s.length)return;let a=s.filter(e=>e.size>10485760);a.length>0&&alert(`${a.length} file(s) melebihi ukuran maksimal 10MB dan akan dilewati.`);let t=s.filter(e=>e.size<=10485760);if(0===t.length){alert("Tidak ada file yang valid untuk diupload.");return}v(!0);for(let e=0;e<t.length;e++){let s=t[e],a=`${s.name}-${e}`;try{g(e=>({...e,[a]:0}));let l=setInterval(()=>{g(e=>({...e,[a]:Math.min((e[a]||0)+20,90)}))},200);await r?.(s,o),clearInterval(l),g(e=>({...e,[a]:100})),e<t.length-1&&await new Promise(e=>setTimeout(e,500))}catch(e){console.error(`Failed to upload ${s.name}:`,e),g(e=>({...e,[a]:-1}))}}setTimeout(()=>{g({}),v(!1),h(!1)},1500)};return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Foto Event"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Upload dan kelola foto untuk event tertentu"})]})}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Pilih Event"})}),t.jsx(z.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(M._,{htmlFor:"event-select",children:"Event"}),(0,t.jsxs)("select",{id:"event-select",value:a,onChange:e=>n?.(e.target.value),className:"w-full px-3 py-2 border rounded-md",children:[t.jsx("option",{value:"",children:"Pilih Event"}),e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," - ",new Date(e.date).toLocaleDateString("id-ID")]},e.id))]})]}),a&&t.jsx("div",{className:"flex gap-2",children:(0,t.jsxs)(P.z,{onClick:()=>h(!0),className:"w-full sm:w-auto",children:[t.jsx(x,{className:"w-4 h-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Upload Foto"}),t.jsx("span",{className:"sm:hidden",children:"Upload"})]})})]})})]}),u&&a&&(0,t.jsxs)(z.Zb,{className:"border-blue-200",children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center gap-2",children:[t.jsx(x,{className:"w-5 h-5 text-blue-600"}),"Upload Foto Event"]})}),(0,t.jsxs)(z.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"album-select",children:"Album"}),(0,t.jsxs)("select",{id:"album-select",value:o,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border rounded-md mt-1",children:[t.jsx("option",{value:"Official",children:"Official"}),t.jsx("option",{value:"Tamu",children:"Tamu"}),t.jsx("option",{value:"Bridesmaid",children:"Bridesmaid"})]})]}),(0,t.jsxs)("div",{children:[t.jsx(M._,{htmlFor:"event-photo-input",children:"Pilih Foto"}),t.jsx(_.I,{id:"event-photo-input",type:"file",multiple:!0,accept:"image/*",onChange:j,className:"mt-1",disabled:f}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ukuran maksimal 10MB per file. Format: JPG, PNG, GIF. Bisa pilih multiple files."})]}),Object.keys(p).length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(M._,{children:"Progress Upload:"}),t.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:Object.entries(p).map(([e,s])=>{let a=e.split("-").slice(0,-1).join("-");return(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"truncate font-medium",children:a}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${-1===s?"bg-red-500":100===s?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.max(0,s)}%`}})})]}),t.jsx("div",{className:"text-xs text-gray-500 min-w-0",children:-1===s?"Error":100===s?"Done":`${s}%`})]},e)})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsx(P.z,{onClick:()=>h(!1),variant:"outline",disabled:f,className:"w-full sm:w-auto",children:f?"Uploading...":"Batal"}),f&&(0,t.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-sm text-blue-600",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Mengupload foto..."]})]})]})]}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:a?`Foto Event: ${e.find(e=>e.id===a)?.name||"Unknown"}`:"Foto Event"})}),t.jsx(z.aY,{children:a?i?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Memuat foto..."})]}):s.length>0?t.jsx("div",{className:"space-y-6",children:["Official","Tamu","Bridesmaid"].map(e=>{let a=s.filter(s=>s.album_name===e);return 0===a.length?null:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-4 text-blue-600 flex items-center gap-2",children:[t.jsx(T.Z,{className:"w-5 h-5"}),"Album ",e," (",a.length," foto)"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"relative group cursor-pointer border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",onClick:()=>d?.(s,a),children:[t.jsx("img",{src:e.url,alt:e.original_name,className:"w-full aspect-square object-cover"}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all",children:[t.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:t.jsx("div",{className:"bg-black/70 text-white text-xs px-2 py-1 rounded truncate",children:e.uploader_name||"Admin"})}),t.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(P.z,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:s=>{s.stopPropagation(),confirm("Yakin ingin menghapus foto ini secara permanen?")&&c?.(e.id)},children:t.jsx(O.Z,{className:"w-3 h-3"})})})]})]},e.id))})]},e)})}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(T.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Belum ada foto di event ini"}),(0,t.jsxs)(P.z,{onClick:()=>h(!0),className:"mt-4 w-full sm:w-auto",variant:"outline",children:[t.jsx(x,{className:"w-4 h-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Upload Foto Pertama"}),t.jsx("span",{className:"sm:hidden",children:"Upload"})]})]}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(T.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Pilih event untuk melihat dan mengelola foto-fotonya"})]})})]})]})}function e2(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"System Monitor"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Comprehensive system monitoring with real-time metrics, health checks, performance analysis, DSLR status, and security monitoring"})]}),t.jsx(eV,{})]})}function e4(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Alert Management"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Kelola alerts dan notifikasi sistem"})]}),t.jsx(eH,{})]})}function e3(){let[e,s]=(0,l.useState)("realtime");return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Advanced Monitoring"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Monitoring sistem lengkap dengan real-time metrics dan alert management"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[(0,t.jsxs)(P.z,{variant:"realtime"===e?"default":"outline",size:"sm",onClick:()=>s("realtime"),className:"w-full sm:w-auto",children:[t.jsx(B,{className:"h-4 w-4 mr-2"}),"Real-time"]}),(0,t.jsxs)(P.z,{variant:"alerts"===e?"default":"outline",size:"sm",onClick:()=>s("alerts"),className:"w-full sm:w-auto",children:[t.jsx(p,{className:"h-4 w-4 mr-2"}),"Alerts"]})]})]}),"realtime"===e&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center space-x-2",children:[t.jsx(B,{className:"h-5 w-5 text-blue-500"}),t.jsx("span",{children:"Real-time System Metrics"})]})}),t.jsx(z.aY,{children:t.jsx(eV,{})})]})}),"alerts"===e&&t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:(0,t.jsxs)(z.ll,{className:"flex items-center space-x-2",children:[t.jsx(p,{className:"h-5 w-5 text-red-500"}),t.jsx("span",{children:"Alert Dashboard"})]})}),t.jsx(z.aY,{children:t.jsx(eH,{})})]})})]})}function e5(){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"DSLR Monitor"}),t.jsx(eG,{})]})}function e6(){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Backup Status"}),t.jsx(eK,{})]})}function e8({events:e=[]}){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Notifications"}),t.jsx(eQ,{events:e})]})}function e7(){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Tema & Tampilan"}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Pengaturan Tema"})}),t.jsx(z.aY,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:"Pilih Tema Warna"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Ubah skema warna website"})]}),t.jsx("div",{className:"w-full sm:w-auto",children:t.jsx(eY,{})})]})})]})]})}function e9({user:e}){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Profile Settings"}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Informasi Profile"})}),t.jsx(z.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Nama Lengkap"}),t.jsx("p",{className:"text-gray-600",children:e?.full_name||"Admin"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Email"}),t.jsx("p",{className:"text-gray-600",children:e?.email||"admin@hafiportrait.com"})]})]})})]})]})}function se({onCreateEvent:e,onEventSubmit:s,isCreating:a=!1,onCancel:l}){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Buat Event Baru"}),t.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Tambahkan event photography baru"})]}),(0,t.jsxs)(P.z,{onClick:()=>l?.(),variant:"outline",className:"w-full sm:w-auto",children:[t.jsx("span",{className:"hidden sm:inline",children:"Kembali ke Daftar"}),t.jsx("span",{className:"sm:hidden",children:"Kembali"})]})]}),(0,t.jsxs)(z.Zb,{children:[t.jsx(z.Ol,{children:t.jsx(z.ll,{children:"Form Event Baru"})}),t.jsx(z.aY,{className:"p-6",children:t.jsx(ex,{editingEvent:null,createdEvent:null,isSaving:a,onSave:e=>s?.(e),onCancel:()=>l?.()})})]})]})}function ss({events:e=[]}){return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Status Manager"}),t.jsx(es,{events:e}),t.jsx(el,{events:e})]})}var sa=a(30016);function st({qrCodeUrl:e,shareableLink:s,eventName:a}){let[i,n]=(0,l.useState)(!1),r=async()=>{s&&await (0,ed.vQ)(s)&&n(!0)};return e?t.jsx(z.Zb,{className:"w-full max-w-sm mx-auto",children:t.jsx(z.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"relative w-full aspect-square mb-4",children:t.jsx("img",{src:e,alt:`QR Code untuk ${a}`,className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,t.jsxs)(P.z,{onClick:r,variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[t.jsx(eh.Z,{className:"w-4 h-4"}),i?"Link Tersalin!":"Salin Link"]}),(0,t.jsxs)(P.z,{onClick:()=>{if(e){let s=document.createElement("a");s.href=e,s.download=`${a.replace(/\s+/g,"-")}-qrcode.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},variant:"outline",className:"w-full flex items-center justify-center gap-2",children:[t.jsx(eB.Z,{className:"w-4 h-4"}),"Unduh QR Code"]})]})]})})}):t.jsx(z.Zb,{className:"w-full max-w-sm mx-auto",children:t.jsx(z.aY,{className:"p-6 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 bg-gray-100 rounded-lg",children:[t.jsx(eo.Z,{className:"w-12 h-12 text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"QR Code tidak tersedia"})]})})})}function sl({event:e,isOpen:s,onClose:a}){return e?t.jsx(sa.Vq,{open:s,onOpenChange:a,children:(0,t.jsxs)(sa.cZ,{className:"sm:max-w-md",children:[t.jsx(sa.fK,{children:(0,t.jsxs)(sa.$N,{children:["QR Code untuk ",e.name]})}),t.jsx("div",{className:"py-4",children:t.jsx(st,{qrCodeUrl:e.qr_code,shareableLink:e.shareable_link,eventName:e.name})})]})}):null}var si=a(22408);let sn=(0,l.createContext)(void 0);function sr(){let e=(0,l.useContext)(sn);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function sd({children:e}){let[s,a]=(0,l.useState)([]),i=e=>{a(s=>s.filter(s=>s.id!==e))};return(0,t.jsxs)(sn.Provider,{value:{toasts:s,addToast:e=>{let s=Math.random().toString(36).substr(2,9),t={id:s,duration:5e3,...e};a(e=>[...e,t]),!t.persistent&&t.duration&&setTimeout(()=>{i(s)},t.duration)},removeToast:i,clearAllToasts:()=>{a([])}},children:[e,t.jsx(sc,{})]})}function sc(){let{toasts:e}=sr();return t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(e=>t.jsx(so,{toast:e},e.id))})}function so({toast:e}){let{removeToast:s}=sr(),[a,i]=(0,l.useState)(!1),[n,r]=(0,l.useState)(!1);return(0,t.jsxs)("div",{className:`
        relative overflow-hidden rounded-lg border shadow-lg backdrop-blur-sm
        transform transition-all duration-200 ease-out
        ${a&&!n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${(()=>{switch(e.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";case"upload":return"bg-purple-50 border-purple-200";case"camera":return"bg-indigo-50 border-indigo-200";default:return"bg-white border-gray-200"}})()}
        touch-feedback
      `,style:{animation:a&&!n?"slideInRight 0.2s ease-out":void 0},children:[t.jsx("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:(()=>{switch(e.type){case"success":return t.jsx(K.Z,{className:"h-5 w-5 text-green-500"});case"error":return t.jsx(W,{className:"h-5 w-5 text-red-500"});case"warning":return t.jsx(ep.Z,{className:"h-5 w-5 text-yellow-500"});case"info":return t.jsx(si.Z,{className:"h-5 w-5 text-blue-500"});case"upload":return t.jsx($.Z,{className:"h-5 w-5 text-purple-500"});case"camera":return t.jsx(T.Z,{className:"h-5 w-5 text-indigo-500"});default:return t.jsx(j,{className:"h-5 w-5 text-gray-500"})}})()}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),e.message&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),e.action&&t.jsx("button",{onClick:e.action.onClick,className:"mt-2 text-sm font-medium text-blue-600 hover:text-blue-500 touch-feedback",children:e.action.label})]}),t.jsx("button",{onClick:()=>{r(!0),setTimeout(()=>{s(e.id)},200)},className:"flex-shrink-0 p-1 rounded-md hover:bg-gray-100 touch-feedback",children:t.jsx(N.Z,{className:"h-4 w-4 text-gray-400"})})]})}),!e.persistent&&e.duration&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200",children:t.jsx("div",{className:"h-full bg-current opacity-30",style:{animation:`shrink ${e.duration}ms linear forwards`}})})]})}var sm=a(43194);function su(){let e=function(e="/admin/login"){let s=function(){let[e,s]=(0,l.useState)({user:null,isLoading:!0,isAuthenticated:!1,error:null}),a=(0,c.useRouter)(),t=(0,l.useCallback)(()=>"http://147.251.255.227:3002",[]),i=(0,l.useCallback)(async(e,s={},a=2)=>{let l=t();for(let t=0;t<=a;t++)try{let a=new AbortController,t=setTimeout(()=>a.abort(),1e4),i=await fetch(`${l}${e}`,{...s,credentials:"include",headers:{"Content-Type":"application/json",...s.headers},signal:a.signal});return clearTimeout(t),i}catch(e){if(console.warn(`API request attempt ${t+1} failed:`,e),t===a)throw e;await new Promise(e=>setTimeout(e,500*Math.pow(2,t)))}throw Error("All retry attempts failed")},[t]),n=(0,l.useCallback)(async()=>{try{console.log("\uD83D\uDD0D checkAuth: Starting auth check..."),s(e=>({...e,isLoading:!0,error:null}));let e=await i("/api/auth/me",{method:"GET"});if(console.log("\uD83D\uDD0D checkAuth: Response status:",e.status),e.ok){let a=await e.json();if(a.success&&a.user)s(e=>({...e,user:a.user,isAuthenticated:!0,isLoading:!1}));else throw Error("Invalid response structure")}else if(401===e.status)s(e=>({...e,user:null,isAuthenticated:!1,isLoading:!1,error:null}));else throw Error(`HTTP ${e.status}`)}catch(e){console.warn("Auth check failed:",e),s(e=>({...e,user:null,isAuthenticated:!1,isLoading:!1,error:null}))}},[i]),r=(0,l.useCallback)(async(e,a)=>{if(!e?.trim()||!a?.trim())return s(e=>({...e,error:"Username and password are required",isLoading:!1})),!1;try{s(e=>({...e,isLoading:!0,error:null}));let t=await i("/api/auth/login",{method:"POST",body:JSON.stringify({username:e.trim(),password:a.trim()})}),l=await t.json();if(t.ok&&l.success)return s(e=>({...e,user:l.user,isAuthenticated:!0,isLoading:!1,error:null})),!0;{let e=l.error||`Login failed (${t.status})`;return s(s=>({...s,user:null,isAuthenticated:!1,error:e,isLoading:!1})),!1}}catch(a){console.error("Login error:",a);let e=a instanceof Error&&"AbortError"===a.name?"Login timeout. Please check your connection.":"Network error. Please try again.";return s(s=>({...s,user:null,isAuthenticated:!1,error:e,isLoading:!1})),!1}},[i]),d=(0,l.useCallback)(async()=>{try{s(e=>({...e,isLoading:!0,error:null}));try{await i("/api/auth/logout",{method:"POST"},1)}catch(e){console.warn("Logout API call failed, proceeding with local logout:",e)}s({user:null,isAuthenticated:!1,isLoading:!1,error:null}),a.push("/admin/login")}catch(e){console.error("Logout error:",e),s({user:null,isAuthenticated:!1,isLoading:!1,error:null}),a.push("/admin/login")}},[a,i]),o=(0,l.useCallback)(()=>{s(e=>({...e,error:null}))},[]);return{...e,login:r,logout:d,checkAuth:n,clearError:o}}();return(0,c.useRouter)(),s}(),{toast:s}=(0,o.pm)(),a=(0,i.NL)(),[m,u]=(0,l.useState)("dashboard"),[h,x]=(0,l.useState)(!1),[p,g]=(0,l.useState)(null),[f,v]=(0,l.useState)(null),[j,b]=(0,l.useState)(!1),[y,N]=(0,l.useState)(null),[w,k]=(0,l.useState)(!1),[C,S]=(0,l.useState)(null),[E,D]=(0,l.useState)(!1),[P,_]=(0,l.useState)(!1),[A,z]=(0,l.useState)(null),[M,T]=(0,l.useState)([]),{data:F,isLoading:L}=(0,n.a)({queryKey:["/api/admin/stats"],queryFn:async()=>(await (0,d.N)("GET","/api/admin/stats")).json(),staleTime:3e5,refetchOnWindowFocus:!1}),{data:O=[],isLoading:B}=(0,n.a)({queryKey:["/api/admin/events"],queryFn:async()=>(await (0,d.N)("GET","/api/admin/events")).json(),staleTime:18e4,refetchOnWindowFocus:!1}),{data:I=[],isLoading:q}=(0,n.a)({queryKey:["/api/admin/photos/homepage"],queryFn:async()=>(await (0,d.N)("GET","/api/admin/photos/homepage")).json()}),{data:$=[],isLoading:R}=(0,n.a)({queryKey:["/api/admin/slideshow"],queryFn:async()=>(await (0,d.N)("GET","/api/admin/slideshow")).json(),staleTime:3e5}),[U,G]=(0,l.useState)(""),{data:K=[],isLoading:Q}=(0,n.a)({queryKey:["/api/admin/photos/event",U],queryFn:async()=>U?(await (0,d.N)("GET",`/api/events/${U}/photos`)).json():[],enabled:!!U}),Y=(0,r.D)({mutationFn:async e=>{let s=await (0,d.N)("POST","/api/admin/events",e);if(!s.ok)throw Error("Failed to create event");return s.json()},onSuccess:e=>{a.invalidateQueries({queryKey:["/api/admin/events"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),v(e),x(!1),s({title:"✅ Event Berhasil Dibuat!",description:`Event "${e.name}" telah ditambahkan.`}),N(e),b(!0),u("events-list")}}),H=(0,r.D)({mutationFn:async({eventId:e,eventData:s})=>{let a=await (0,d.N)("PUT",`/api/admin/events/${e}`,s);if(!a.ok)throw Error("Failed to update event");return a.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/events"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),x(!1),g(null),s({title:"✅ Event Berhasil Diupdate!",description:"Perubahan telah disimpan."})}}),V=(0,r.D)({mutationFn:async e=>{let s=await (0,d.N)("DELETE",`/api/admin/events/${e}`);if(!s.ok)throw Error("Failed to delete event");return s.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/events"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),s({title:"✅ Event Berhasil Dihapus!",description:"Event telah dihapus dari sistem."})}}),W=(0,r.D)({mutationFn:async({eventId:e,status:s})=>{let a=await (0,d.N)("PUT",`/api/admin/events/${e}/status`,{status:s});if(!a.ok)throw Error("Failed to update event status");return a.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/events"]}),s({title:"✅ Status Event Diupdate!",description:"Status event berhasil diubah."})}}),J=(0,r.D)({mutationFn:async e=>{let s=new FormData;return s.append("file",e),(await (0,d.N)("POST","/api/admin/photos/homepage",s)).json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/photos/homepage"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),s({title:"✅ Foto Berhasil Diupload!",description:"Foto telah ditambahkan ke galeri homepage."})},onError:()=>{s({title:"❌ Gagal Upload Foto",description:"Terjadi kesalahan saat mengupload foto.",variant:"destructive"})}}),X=(0,r.D)({mutationFn:async e=>{let s=await (0,d.N)("DELETE",`/api/admin/photos/${e}`);if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"Failed to delete photo");return s.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/photos/homepage"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),s({title:"✅ Foto Berhasil Dihapus!",description:"Foto telah dihapus dari sistem."})},onError:()=>{s({title:"❌ Gagal Menghapus Foto",description:"Terjadi kesalahan saat menghapus foto.",variant:"destructive"})}}),ee=(0,r.D)({mutationFn:async e=>{console.log("Adding photo to slideshow:",e);let s=await (0,d.N)("POST","/api/admin/slideshow",{photoId:e});if(console.log("Response status:",s.status),!s.ok){let e=await s.json().catch(()=>({error:"Unknown error"}));throw console.error("Error response:",e),Error(e.error||"Failed to add photo to slideshow")}let a=await s.json();return console.log("Success response:",a),a},onSuccess:e=>{console.log("Successfully added to slideshow:",e),a.invalidateQueries({queryKey:["/api/admin/slideshow"]}),a.invalidateQueries({queryKey:["/api/admin/photos/homepage"]}),s({title:"✅ Berhasil!",description:"Foto berhasil ditambahkan ke slideshow"})},onError:e=>{console.error("Error adding to slideshow:",e),s({title:"❌ Gagal",description:e.message||"Gagal menambahkan foto ke slideshow",variant:"destructive"})}}),es=(0,r.D)({mutationFn:async e=>(await (0,d.N)("DELETE",`/api/admin/slideshow?photoId=${e}`)).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/slideshow"]}),s({title:"✅ Berhasil!",description:"Foto berhasil dihapus dari slideshow"})},onError:e=>{s({title:"❌ Gagal",description:e.message||"Gagal menghapus foto dari slideshow",variant:"destructive"})}}),ea=(0,r.D)({mutationFn:async e=>{let s=await (0,d.N)("DELETE",`/api/admin/photos/event/${e}`);if(!s.ok)throw Error((await s.json().catch(()=>({message:"Delete failed"}))).message||"Delete failed");return s.json()},onSuccess:(e,t)=>{a.invalidateQueries({queryKey:["/api/admin/photos/event",U]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),a.invalidateQueries({queryKey:["/api/events",U,"photos"]}),a.invalidateQueries({queryKey:["/api/events",U]}),a.refetchQueries({queryKey:["/api/events",U,"photos"]}),window.dispatchEvent(new CustomEvent("photoDeleted",{detail:{eventId:U,photoId:t}})),s({title:"✅ Foto Event Berhasil Dihapus!",description:"Foto telah dihapus dari galeri event."})},onError:(e,t)=>{a.refetchQueries({queryKey:["/api/admin/photos/event",U]}),s({title:"❌ Gagal Menghapus Foto Event",description:`Gagal menghapus foto: ${e.message}`,variant:"destructive"})}}),et=(0,r.D)({mutationFn:async({file:e,albumName:s})=>{let a=new FormData;a.append("file",e),a.append("uploaderName","Admin"),a.append("albumName",s);let t=await (0,d.N)("POST",`/api/events/${U}/photos`,a);if(!t.ok)throw Error((await t.json().catch(()=>({message:"Upload failed"}))).message||"Upload failed");return t.json()},onSuccess:(e,t)=>{a.invalidateQueries({queryKey:["/api/admin/photos/event",U]}),a.invalidateQueries({queryKey:["/api/admin/stats"]}),a.invalidateQueries({queryKey:["/api/events",U,"photos"]}),a.invalidateQueries({queryKey:["/api/events",U]}),a.refetchQueries({queryKey:["/api/events",U,"photos"]}),window.dispatchEvent(new CustomEvent("photoUploaded",{detail:{eventId:U,fileName:t.file.name}})),s({title:"✅ Foto Event Berhasil Diupload!",description:`Foto "${t.file.name}" telah ditambahkan ke album ${t.albumName}.`})},onError:(e,a)=>{s({title:"❌ Gagal Upload Foto Event",description:`Gagal mengupload "${a.file.name}": ${e.message}`,variant:"destructive"})}}),el=async()=>{try{await (0,d.N)("POST","/api/auth/logout"),a.clear(),window.location.href="/admin/login"}catch(e){console.error("Logout error:",e)}},ei=async e=>{p?H.mutate({eventId:p.id,eventData:e}):Y.mutate(e)},en={stats:F,events:O,onCreateEvent:()=>{u("events-create")},onEditEvent:e=>{g(e),v(null),x(!0)},onDeleteEvent:e=>{let s=O.find(s=>s.id===e);confirm(`Yakin ingin menghapus event "${s?.name}"? Semua foto dan pesan akan ikut terhapus.`)&&V.mutate(e)},onShowQRCode:e=>{N(e),b(!0)},onUpdateEventStatus:(e,s)=>W.mutate({eventId:e,status:s}),onEventSubmit:ei,isCreating:Y.isPending,onCancel:()=>u("events-list"),onRefresh:()=>{a.invalidateQueries({queryKey:["/api/admin/events"]}),a.invalidateQueries({queryKey:["/api/admin/stats"]})}},er={homepagePhotos:I,isLoading:q,onUpload:e=>{Array.from(e).forEach(e=>{if(e.size>10485760){s({title:"File Terlalu Besar",description:"Ukuran file maksimal 10MB.",variant:"destructive"});return}J.mutate(e)})},onDelete:e=>X.mutate(e),onPhotoClick:e=>{S(e),k(!0)}},ed={slideshowPhotos:$,homepagePhotos:I,isLoading:R,onAddToSlideshow:e=>ee.mutate(e),onRemoveFromSlideshow:e=>es.mutate(e),isAddingToSlideshow:ee.isPending,isPanelOpen:E,onPanelToggle:D},ec={events:O,eventPhotos:K,selectedEventForPhotos:U,isLoading:Q,onEventSelect:G,onPhotoUpload:(e,s)=>et.mutate({file:e,albumName:s}),onPhotoClick:(e,s)=>{if(!s||0===s.length||e<0||e>=s.length){console.warn("Invalid photo data for lightbox:",{index:e,albumPhotosLength:s?.length});return}let a=s.filter(e=>e&&e.id&&e.url);if(0===a.length){console.warn("No valid photos found for lightbox");return}let t=Math.min(e,a.length-1);T(a),z(t),_(!0)},onPhotoDelete:e=>ea.mutate(e)};return e.isLoading?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e.isAuthenticated?e.user?(0,t.jsxs)(sd,{children:[t.jsx(Z,{activeSection:m,onSectionChange:u,user:e.user,onLogout:el,stats:F,children:(()=>{switch(m){case"dashboard":default:return t.jsx(eW,{...en});case"events-list":return t.jsx(eJ,{...en});case"events-create":return t.jsx(se,{...en});case"events-status":return t.jsx(ss,{...en});case"media-homepage":return t.jsx(eX,{...er});case"media-slideshow":return t.jsx(e0,{...ed});case"media-events":return t.jsx(e1,{...ec});case"system-monitor":return t.jsx(e2,{});case"system-alerts":return t.jsx(e4,{});case"system-advanced":return t.jsx(e3,{});case"system-dslr":return t.jsx(e5,{});case"system-backup":return t.jsx(e6,{});case"system-notifications":return t.jsx(e8,{...en});case"settings-theme":return t.jsx(e7,{});case"settings-profile":return t.jsx(e9,{user:e.user})}})()}),h&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex items-center justify-center min-h-screen p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>x(!1)}),t.jsx("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsx(ex,{editingEvent:p,createdEvent:f,isSaving:Y.isPending||H.isPending,onSave:ei,onCancel:()=>{x(!1),g(null),v(null)}})})]})}),w&&null!==C&&t.jsx(sm.Z,{photos:I,currentIndex:C,onClose:()=>k(!1),onDelete:e=>{confirm("Yakin ingin menghapus foto ini secara permanen?")&&X.mutate(e,{onSuccess:()=>{k(!1)}})},onLike:e=>{console.log("Like photo:",e)},onUnlike:e=>{console.log("Unlike photo:",e)}}),P&&null!==A&&M.length>0&&A<M.length&&M[A]&&t.jsx("div",{children:t.jsx(sm.Z,{photos:M.filter(e=>e&&e.id),currentIndex:Math.min(A,M.length-1),onClose:()=>{setTimeout(()=>{_(!1),z(null),T([])},0)},onDelete:e=>{if(confirm("Yakin ingin menghapus foto event ini secara permanen?")){let s=[...M],a=s.findIndex(s=>s?.id===e);if(-1!==a){let t=s.filter(s=>s?.id!==e);if(T(t),0===t.length)_(!1),z(null),T([]);else{let e=A||0;e>=t.length?z(t.length-1):a<=e&&e>0&&z(e-1)}}ea.mutate(e)}},onLike:e=>{console.log("Like event photo:",e)},onUnlike:e=>{console.log("Unlike event photo:",e)}})},`lightbox-${M.length}-${A}`),t.jsx(sl,{event:y,isOpen:j,onClose:()=>{b(!1),N(null)}})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})})})}},18338:(e,s,a)=>{"use strict";a.d(s,{X:()=>c,bZ:()=>d});var t=a(93581),l=a(67149),i=a(9271),n=a(21860);let r=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=l.forwardRef(({className:e,variant:s,...a},l)=>t.jsx("div",{ref:l,role:"alert",className:(0,n.cn)(r({variant:s}),e),...a}));d.displayName="Alert",l.forwardRef(({className:e,...s},a)=>t.jsx("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let c=l.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...s}));c.displayName="AlertDescription"},40677:(e,s,a)=>{"use strict";a.d(s,{_:()=>o});var t=a(93581),l=a(67149),i=a(97715),n=l.forwardRef((e,s)=>(0,t.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var r=a(9271),d=a(21860);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef(({className:e,...s},a)=>t.jsx(n,{ref:a,className:(0,d.cn)(c(),e),...s}));o.displayName=n.displayName},51325:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(57057).createProxy)(String.raw`/home/ubuntu/stable/src/app/admin/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[2782,6273,6133,75,6201],()=>a(77283));module.exports=t})();